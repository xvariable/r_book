<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Kapitel 4 Einführung in R | R Kompendium für die kommunikationswissenschaftliche Statistik- und Datenanalyse-Ausbildung am IJK Hannover</title>
  <meta name="description" content="Dieses Buch ist als Nachschlage-Referez für die Statistik-Ausbildung in der Kommunikationswissenschaft gedacht." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Kapitel 4 Einführung in R | R Kompendium für die kommunikationswissenschaftliche Statistik- und Datenanalyse-Ausbildung am IJK Hannover" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://bookdown.org/yihui/rmarkdown-cookbook/" />
  
  <meta property="og:description" content="Dieses Buch ist als Nachschlage-Referez für die Statistik-Ausbildung in der Kommunikationswissenschaft gedacht." />
  <meta name="github-repo" content="xvariable/r_book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Kapitel 4 Einführung in R | R Kompendium für die kommunikationswissenschaftliche Statistik- und Datenanalyse-Ausbildung am IJK Hannover" />
  
  <meta name="twitter:description" content="Dieses Buch ist als Nachschlage-Referez für die Statistik-Ausbildung in der Kommunikationswissenschaft gedacht." />
  

<meta name="author" content="Julia Niemann-Lenz" />


<meta name="date" content="2021-07-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="benutzeroberflächen.html"/>
<link rel="next" href="rmarkdown.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HCCP0H824J"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HCCP0H824J');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R Kompendium</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Herzlich Willkommen!</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#dank"><i class="fa fa-check"></i>Dank</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#disclaimer"><i class="fa fa-check"></i>Disclaimer</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Einleitung</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#einführung-in-r"><i class="fa fa-check"></i><b>1.1</b> Einführung in R</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="intro.html"><a href="intro.html#s-ist-die-mutter-von-r"><i class="fa fa-check"></i><b>1.1.1</b> S ist die Mutter von R</a></li>
<li class="chapter" data-level="1.1.2" data-path="intro.html"><a href="intro.html#die-philosophie-von-s"><i class="fa fa-check"></i><b>1.1.2</b> Die Philosophie von S</a></li>
<li class="chapter" data-level="1.1.3" data-path="intro.html"><a href="intro.html#die-entwicklung-von-r"><i class="fa fa-check"></i><b>1.1.3</b> Die Entwicklung von R</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#weiterführende-links"><i class="fa fa-check"></i>Weiterführende Links</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#vorteile-von-r"><i class="fa fa-check"></i><b>1.2</b> Vorteile von R</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#alternativen-zu-r"><i class="fa fa-check"></i><b>1.3</b> Alternativen zu R</a>
<ul>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#weiterführende-links-1"><i class="fa fa-check"></i>Weiterführende Links</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#tipps-zum-r-lernen"><i class="fa fa-check"></i><b>1.4</b> Tipps zum R lernen</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="intro.html"><a href="intro.html#der-anfang-ist-schwer"><i class="fa fa-check"></i><b>1.4.1</b> Der Anfang ist schwer</a></li>
<li class="chapter" data-level="1.4.2" data-path="intro.html"><a href="intro.html#nützliche-hinweise"><i class="fa fa-check"></i><b>1.4.2</b> Nützliche Hinweise</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>2</b> Installation</a>
<ul>
<li class="chapter" data-level="2.1" data-path="installation.html"><a href="installation.html#installationsanleitung-windows"><i class="fa fa-check"></i><b>2.1</b> Installationsanleitung Windows</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="installation.html"><a href="installation.html#erster-schritt-r"><i class="fa fa-check"></i><b>2.1.1</b> Erster Schritt: R</a></li>
<li class="chapter" data-level="2.1.2" data-path="installation.html"><a href="installation.html#zweiter-schritt-rstudio"><i class="fa fa-check"></i><b>2.1.2</b> Zweiter Schritt: RStudio</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="installation.html"><a href="installation.html#installationsanleitung-macos"><i class="fa fa-check"></i><b>2.2</b> Installationsanleitung MacOS</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="installation.html"><a href="installation.html#erster-schritt-r-1"><i class="fa fa-check"></i><b>2.2.1</b> Erster Schritt: R</a></li>
<li class="chapter" data-level="2.2.2" data-path="installation.html"><a href="installation.html#zweiter-schritt-rstudio-1"><i class="fa fa-check"></i><b>2.2.2</b> Zweiter Schritt: RStudio</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="benutzeroberflächen.html"><a href="benutzeroberflächen.html"><i class="fa fa-check"></i><b>3</b> Benutzeroberflächen</a>
<ul>
<li class="chapter" data-level="3.1" data-path="benutzeroberflächen.html"><a href="benutzeroberflächen.html#konsole"><i class="fa fa-check"></i><b>3.1</b> R Konsole</a></li>
<li class="chapter" data-level="3.2" data-path="benutzeroberflächen.html"><a href="benutzeroberflächen.html#rstudio-ide-für-r"><i class="fa fa-check"></i><b>3.2</b> RStudio: IDE für R</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="benutzeroberflächen.html"><a href="benutzeroberflächen.html#rstudio-cloud"><i class="fa fa-check"></i><b>3.2.1</b> RStudio-Cloud</a></li>
<li class="chapter" data-level="3.2.2" data-path="benutzeroberflächen.html"><a href="benutzeroberflächen.html#installation-von-rstudio"><i class="fa fa-check"></i><b>3.2.2</b> Installation von RStudio</a></li>
<li class="chapter" data-level="3.2.3" data-path="benutzeroberflächen.html"><a href="benutzeroberflächen.html#rstudio-benutzeroberfläche"><i class="fa fa-check"></i><b>3.2.3</b> RStudio Benutzeroberfläche</a></li>
<li class="chapter" data-level="3.2.4" data-path="benutzeroberflächen.html"><a href="benutzeroberflächen.html#r-skripte"><i class="fa fa-check"></i><b>3.2.4</b> R-Skripte</a></li>
<li class="chapter" data-level="3.2.5" data-path="benutzeroberflächen.html"><a href="benutzeroberflächen.html#features-von-rstudio"><i class="fa fa-check"></i><b>3.2.5</b> Features von RStudio</a></li>
<li class="chapter" data-level="3.2.6" data-path="benutzeroberflächen.html"><a href="benutzeroberflächen.html#rstudio-anpassen"><i class="fa fa-check"></i><b>3.2.6</b> RStudio anpassen</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html"><i class="fa fa-check"></i><b>4</b> Einführung in R</a>
<ul>
<li class="chapter" data-level="4.1" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#r-syntax"><i class="fa fa-check"></i><b>4.1</b> R-Syntax</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#rechnen-mit-r"><i class="fa fa-check"></i><b>4.1.1</b> Rechnen mit R</a></li>
<li class="chapter" data-level="4.1.2" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#zuweisungsoperatoren"><i class="fa fa-check"></i><b>4.1.2</b> Zuweisungsoperatoren</a></li>
<li class="chapter" data-level="4.1.3" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#objektnamen"><i class="fa fa-check"></i><b>4.1.3</b> Objektnamen</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#kommentare"><i class="fa fa-check"></i><b>4.2</b> Kommentare</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#einfache-kommentare"><i class="fa fa-check"></i><b>4.2.1</b> Einfache Kommentare</a></li>
<li class="chapter" data-level="4.2.2" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#sections"><i class="fa fa-check"></i><b>4.2.2</b> Sections</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#r-pakete"><i class="fa fa-check"></i><b>4.3</b> R-Pakete</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#r-pakete-anzeigen"><i class="fa fa-check"></i><b>4.3.1</b> R-Pakete anzeigen</a></li>
<li class="chapter" data-level="4.3.2" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#r-pakete-installieren"><i class="fa fa-check"></i><b>4.3.2</b> R-Pakete installieren</a></li>
<li class="chapter" data-level="4.3.3" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#pakete-laden"><i class="fa fa-check"></i><b>4.3.3</b> Pakete laden</a></li>
<li class="chapter" data-level="4.3.4" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#dokumentation"><i class="fa fa-check"></i><b>4.3.4</b> Dokumentation</a></li>
<li class="chapter" data-level="4.3.5" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#pakete-finden"><i class="fa fa-check"></i><b>4.3.5</b> Pakete finden</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#funktionen"><i class="fa fa-check"></i><b>4.4</b> Funktionen</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#aufbau-argumente"><i class="fa fa-check"></i><b>4.4.1</b> Aufbau &amp; Argumente</a></li>
<li class="chapter" data-level="4.4.2" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#funktionen-verschachteln"><i class="fa fa-check"></i><b>4.4.2</b> Funktionen verschachteln</a></li>
<li class="chapter" data-level="4.4.3" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#hilfe-für-funktionen"><i class="fa fa-check"></i><b>4.4.3</b> Hilfe für Funktionen</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#doppelte-funktionsnamen"><i class="fa fa-check"></i><b>4.5</b> Doppelte Funktionsnamen</a></li>
<li class="chapter" data-level="4.6" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#eigene-funktionen-schreiben"><i class="fa fa-check"></i><b>4.6</b> Eigene Funktionen schreiben</a></li>
<li class="chapter" data-level="4.7" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#r-projekte"><i class="fa fa-check"></i><b>4.7</b> R-Projekte</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#arbeitsverzeichnis"><i class="fa fa-check"></i><b>4.7.1</b> Arbeitsverzeichnis</a></li>
<li class="chapter" data-level="4.7.2" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#r-projekte-anlegen"><i class="fa fa-check"></i><b>4.7.2</b> R-Projekte anlegen</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#datenimport-und-datenexport"><i class="fa fa-check"></i><b>4.8</b> Datenimport und Datenexport</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#csv-dateien-importieren"><i class="fa fa-check"></i><b>4.8.1</b> CSV-Dateien importieren</a></li>
<li class="chapter" data-level="4.8.2" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#excel-dateien-importieren"><i class="fa fa-check"></i><b>4.8.2</b> Excel-Dateien importieren</a></li>
<li class="chapter" data-level="4.8.3" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#spss-dateien-importieren"><i class="fa fa-check"></i><b>4.8.3</b> SPSS-Dateien importieren</a></li>
<li class="chapter" data-level="4.8.4" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#daten-exportieren-abspeichern"><i class="fa fa-check"></i><b>4.8.4</b> Daten exportieren (abspeichern)</a></li>
<li class="chapter" data-level="4.8.5" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#work_labelled"><i class="fa fa-check"></i><b>4.8.5</b> Arbeit mit gelabelten Daten</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#datenstrukturen"><i class="fa fa-check"></i><b>4.9</b> Datenstrukturen</a>
<ul>
<li class="chapter" data-level="4.9.1" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#dataframes"><i class="fa fa-check"></i><b>4.9.1</b> Dataframes</a></li>
<li class="chapter" data-level="4.9.2" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#aufbau-von-dataframes"><i class="fa fa-check"></i><b>4.9.2</b> Aufbau von Dataframes</a></li>
<li class="chapter" data-level="4.9.3" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#atomic_vector_types"><i class="fa fa-check"></i><b>4.9.3</b> Atomare Datentypen</a></li>
<li class="chapter" data-level="4.9.4" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#fehlende-werte"><i class="fa fa-check"></i><b>4.9.4</b> Fehlende Werte</a></li>
<li class="chapter" data-level="4.9.5" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#objekttypen-konvertieren"><i class="fa fa-check"></i><b>4.9.5</b> Objekttypen konvertieren</a></li>
<li class="chapter" data-level="4.9.6" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#faktoren"><i class="fa fa-check"></i><b>4.9.6</b> Faktoren</a></li>
<li class="chapter" data-level="4.9.7" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#listen"><i class="fa fa-check"></i><b>4.9.7</b> Listen</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="einführung-in-r-1.html"><a href="einführung-in-r-1.html#wichtige-funktionen-aus-diesem-kapitel"><i class="fa fa-check"></i>Wichtige Funktionen aus diesem Kapitel</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>5</b> RMarkdown</a>
<ul>
<li class="chapter" data-level="5.1" data-path="rmarkdown.html"><a href="rmarkdown.html#rmarkdown-workflow"><i class="fa fa-check"></i><b>5.1</b> RMarkdown Workflow</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="rmarkdown.html"><a href="rmarkdown.html#erster-schritt-rmarkdown-anlegen"><i class="fa fa-check"></i><b>5.1.1</b> Erster Schritt: RMarkdown anlegen</a></li>
<li class="chapter" data-level="5.1.2" data-path="rmarkdown.html"><a href="rmarkdown.html#zweiter-schritt-inhalt-der-rmarkdown-datei"><i class="fa fa-check"></i><b>5.1.2</b> Zweiter Schritt: Inhalt der RMarkdown-Datei</a></li>
<li class="chapter" data-level="5.1.3" data-path="rmarkdown.html"><a href="rmarkdown.html#dritter-schritt-output-erzeugen"><i class="fa fa-check"></i><b>5.1.3</b> Dritter Schritt: Output erzeugen</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="rmarkdown.html"><a href="rmarkdown.html#formatierungen-optionen"><i class="fa fa-check"></i><b>5.2</b> Formatierungen &amp; Optionen</a></li>
<li class="chapter" data-level="5.3" data-path="rmarkdown.html"><a href="rmarkdown.html#weiterführende-links-2"><i class="fa fa-check"></i><b>5.3</b> Weiterführende Links</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="datenaufbereitung.html"><a href="datenaufbereitung.html"><i class="fa fa-check"></i><b>6</b> Datenaufbereitung</a>
<ul>
<li class="chapter" data-level="6.1" data-path="datenaufbereitung.html"><a href="datenaufbereitung.html#prerequisites"><i class="fa fa-check"></i><b>6.1</b> Prerequisites</a></li>
<li class="chapter" data-level="6.2" data-path="datenaufbereitung.html"><a href="datenaufbereitung.html#pipe"><i class="fa fa-check"></i><b>6.2</b> Die Pipe</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="datenaufbereitung.html"><a href="datenaufbereitung.html#der-aufbau-im-detail"><i class="fa fa-check"></i><b>6.2.1</b> Der Aufbau im Detail</a></li>
<li class="chapter" data-level="6.2.2" data-path="datenaufbereitung.html"><a href="datenaufbereitung.html#schlechtere-alternativen-zur-pipe"><i class="fa fa-check"></i><b>6.2.2</b> Schlechtere Alternativen zur Pipe</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="datenaufbereitung.html"><a href="datenaufbereitung.html#filter-fälle-auswählen"><i class="fa fa-check"></i><b>6.3</b> Filter: Fälle auswählen</a></li>
<li class="chapter" data-level="6.4" data-path="datenaufbereitung.html"><a href="datenaufbereitung.html#arrange-fälle-sortieren"><i class="fa fa-check"></i><b>6.4</b> Arrange: Fälle sortieren</a></li>
<li class="chapter" data-level="6.5" data-path="datenaufbereitung.html"><a href="datenaufbereitung.html#select-variablen-auswählen"><i class="fa fa-check"></i><b>6.5</b> Select: Variablen auswählen</a></li>
<li class="chapter" data-level="6.6" data-path="datenaufbereitung.html"><a href="datenaufbereitung.html#variablen-umcodieren"><i class="fa fa-check"></i><b>6.6</b> Variablen umcodieren</a></li>
<li class="chapter" data-level="6.7" data-path="datenaufbereitung.html"><a href="datenaufbereitung.html#variablen-berechnen"><i class="fa fa-check"></i><b>6.7</b> Variablen berechnen</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="datenaufbereitung.html"><a href="datenaufbereitung.html#summen-und-mittelwertindices"><i class="fa fa-check"></i><b>6.7.1</b> Summen und Mittelwertindices</a></li>
<li class="chapter" data-level="6.7.2" data-path="datenaufbereitung.html"><a href="datenaufbereitung.html#berechnen-mit-dplyrmutate"><i class="fa fa-check"></i><b>6.7.2</b> Berechnen mit dplyr::mutate()</a></li>
<li class="chapter" data-level="6.7.3" data-path="datenaufbereitung.html"><a href="datenaufbereitung.html#variablen-unter-einer-bedingung-berechnen"><i class="fa fa-check"></i><b>6.7.3</b> Variablen unter einer Bedingung berechnen</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="datenaufbereitung.html"><a href="datenaufbereitung.html#summarize-daten-verdichten"><i class="fa fa-check"></i><b>6.8</b> Summarize: Daten verdichten</a></li>
<li class="chapter" data-level="" data-path="datenaufbereitung.html"><a href="datenaufbereitung.html#wichtige-funktionen-aus-diesem-kapitel-1"><i class="fa fa-check"></i>Wichtige Funktionen aus diesem Kapitel</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html"><i class="fa fa-check"></i><b>7</b> Deskriptive Statistik</a>
<ul>
<li class="chapter" data-level="7.1" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html#datensatz-für-dieses-kapitel"><i class="fa fa-check"></i><b>7.1</b> Datensatz für dieses Kapitel</a></li>
<li class="chapter" data-level="7.2" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html#häufigkeitsverteilung"><i class="fa fa-check"></i><b>7.2</b> Häufigkeitsverteilung</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html#tabellen"><i class="fa fa-check"></i><b>7.2.1</b> Tabellen</a></li>
<li class="chapter" data-level="7.2.2" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html#häufigkeitsdiagramm"><i class="fa fa-check"></i><b>7.2.2</b> Häufigkeitsdiagramm</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html#maße-der-zentralen-tendenz-streuung"><i class="fa fa-check"></i><b>7.3</b> Maße der zentralen Tendenz &amp; Streuung</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html#nominale-daten"><i class="fa fa-check"></i><b>7.3.1</b> Nominale Daten</a></li>
<li class="chapter" data-level="7.3.2" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html#ordinale-daten"><i class="fa fa-check"></i><b>7.3.2</b> Ordinale Daten</a></li>
<li class="chapter" data-level="7.3.3" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html#metrische-daten"><i class="fa fa-check"></i><b>7.3.3</b> Metrische Daten</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html#schiefe-und-kurtosis"><i class="fa fa-check"></i><b>7.4</b> Schiefe und Kurtosis</a></li>
<li class="chapter" data-level="7.5" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html#übersichts-funktionen"><i class="fa fa-check"></i><b>7.5</b> Übersichts-Funktionen</a></li>
<li class="chapter" data-level="" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html#wichtige-funktionen-aus-diesem-kapitel-2"><i class="fa fa-check"></i>Wichtige Funktionen aus diesem Kapitel</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="bivariate-statistik.html"><a href="bivariate-statistik.html"><i class="fa fa-check"></i><b>8</b> Bivariate Statistik</a>
<ul>
<li class="chapter" data-level="8.1" data-path="bivariate-statistik.html"><a href="bivariate-statistik.html#kreuztabellen"><i class="fa fa-check"></i><b>8.1</b> Kreuztabellen</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="bivariate-statistik.html"><a href="bivariate-statistik.html#vorbereitung-univariate-verteilung"><i class="fa fa-check"></i><b>8.1.1</b> Vorbereitung: Univariate Verteilung</a></li>
<li class="chapter" data-level="8.1.2" data-path="bivariate-statistik.html"><a href="bivariate-statistik.html#kreuztabelle-ausgeben"><i class="fa fa-check"></i><b>8.1.2</b> Kreuztabelle ausgeben</a></li>
<li class="chapter" data-level="8.1.3" data-path="bivariate-statistik.html"><a href="bivariate-statistik.html#chi-quadrat-cramers-v"><i class="fa fa-check"></i><b>8.1.3</b> Chi-Quadrat &amp; Cramer´s V</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="bivariate-statistik.html"><a href="bivariate-statistik.html#korrelationen"><i class="fa fa-check"></i><b>8.2</b> Korrelationen</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="bivariate-statistik.html"><a href="bivariate-statistik.html#streudiagramm"><i class="fa fa-check"></i><b>8.2.1</b> Streudiagramm</a></li>
<li class="chapter" data-level="8.2.2" data-path="bivariate-statistik.html"><a href="bivariate-statistik.html#kovarianz"><i class="fa fa-check"></i><b>8.2.2</b> Kovarianz</a></li>
<li class="chapter" data-level="8.2.3" data-path="bivariate-statistik.html"><a href="bivariate-statistik.html#korrelation-mit-base-rstats"><i class="fa fa-check"></i><b>8.2.3</b> Korrelation mit <code>base R</code>/<code>stats</code></a></li>
<li class="chapter" data-level="8.2.4" data-path="bivariate-statistik.html"><a href="bivariate-statistik.html#korrelation-mit-psych"><i class="fa fa-check"></i><b>8.2.4</b> Korrelation mit <code>psych</code></a></li>
<li class="chapter" data-level="8.2.5" data-path="bivariate-statistik.html"><a href="bivariate-statistik.html#partialkorrelation"><i class="fa fa-check"></i><b>8.2.5</b> Partialkorrelation</a></li>
<li class="chapter" data-level="8.2.6" data-path="bivariate-statistik.html"><a href="bivariate-statistik.html#korrelationsmatrizen-darstellen"><i class="fa fa-check"></i><b>8.2.6</b> Korrelationsmatrizen darstellen</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="bivariate-statistik.html"><a href="bivariate-statistik.html#wichtige-funktionen-aus-diesem-kapitel-3"><i class="fa fa-check"></i>Wichtige Funktionen aus diesem Kapitel</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="grafiken.html"><a href="grafiken.html"><i class="fa fa-check"></i><b>9</b> Grafiken</a>
<ul>
<li class="chapter" data-level="9.1" data-path="grafiken.html"><a href="grafiken.html#drei-basis-funktionen"><i class="fa fa-check"></i><b>9.1</b> Drei Basis-Funktionen</a></li>
<li class="chapter" data-level="9.2" data-path="grafiken.html"><a href="grafiken.html#erste-funktion-plot-objekt-erstellen"><i class="fa fa-check"></i><b>9.2</b> Erste Funktion: Plot-Objekt erstellen</a></li>
<li class="chapter" data-level="9.3" data-path="grafiken.html"><a href="grafiken.html#zweite-funktion-aesthetik-mapping"><i class="fa fa-check"></i><b>9.3</b> Zweite Funktion: Aesthetik Mapping</a></li>
<li class="chapter" data-level="9.4" data-path="grafiken.html"><a href="grafiken.html#dritte-funktion-geom-hinzufügen"><i class="fa fa-check"></i><b>9.4</b> Dritte Funktion: Geom hinzufügen</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="grafiken.html"><a href="grafiken.html#streudiagramm-1"><i class="fa fa-check"></i><b>9.4.1</b> Streudiagramm</a></li>
<li class="chapter" data-level="9.4.2" data-path="grafiken.html"><a href="grafiken.html#jitter-plot"><i class="fa fa-check"></i><b>9.4.2</b> Jitter-Plot</a></li>
<li class="chapter" data-level="9.4.3" data-path="grafiken.html"><a href="grafiken.html#boxplot"><i class="fa fa-check"></i><b>9.4.3</b> Boxplot</a></li>
<li class="chapter" data-level="9.4.4" data-path="grafiken.html"><a href="grafiken.html#violin-plot"><i class="fa fa-check"></i><b>9.4.4</b> Violin-Plot</a></li>
<li class="chapter" data-level="9.4.5" data-path="grafiken.html"><a href="grafiken.html#balkendiagramme"><i class="fa fa-check"></i><b>9.4.5</b> Balkendiagramme</a></li>
<li class="chapter" data-level="9.4.6" data-path="grafiken.html"><a href="grafiken.html#histogramme"><i class="fa fa-check"></i><b>9.4.6</b> Histogramme</a></li>
<li class="chapter" data-level="9.4.7" data-path="grafiken.html"><a href="grafiken.html#liniendiagramme"><i class="fa fa-check"></i><b>9.4.7</b> Liniendiagramme</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="grafiken.html"><a href="grafiken.html#grafiken-speichern"><i class="fa fa-check"></i><b>9.5</b> Grafiken speichern</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="regression.html"><a href="regression.html"><i class="fa fa-check"></i><b>10</b> Regression</a>
<ul>
<li class="chapter" data-level="10.1" data-path="regression.html"><a href="regression.html#das-lineare-modell"><i class="fa fa-check"></i><b>10.1</b> Das lineare Modell</a></li>
<li class="chapter" data-level="10.2" data-path="regression.html"><a href="regression.html#bivariate-lineare-regression"><i class="fa fa-check"></i><b>10.2</b> Bivariate lineare Regression</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="regression.html"><a href="regression.html#grafische-darstellung"><i class="fa fa-check"></i><b>10.2.1</b> Grafische Darstellung</a></li>
<li class="chapter" data-level="10.2.2" data-path="regression.html"><a href="regression.html#die-funktion-lm"><i class="fa fa-check"></i><b>10.2.2</b> Die Funktion <code>lm()</code></a></li>
<li class="chapter" data-level="10.2.3" data-path="regression.html"><a href="regression.html#standardisierte-regressionskoeffizienten-β"><i class="fa fa-check"></i><b>10.2.3</b> Standardisierte Regressionskoeffizienten (β)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="t-tests.html"><a href="t-tests.html"><i class="fa fa-check"></i><b>11</b> T-Tests</a>
<ul>
<li class="chapter" data-level="11.1" data-path="t-tests.html"><a href="t-tests.html#datenbeispiel"><i class="fa fa-check"></i><b>11.1</b> Datenbeispiel</a></li>
<li class="chapter" data-level="11.2" data-path="t-tests.html"><a href="t-tests.html#einstichproben-t-test"><i class="fa fa-check"></i><b>11.2</b> Einstichproben-T-Test</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="t-tests.html"><a href="t-tests.html#hypothese-aufstellen"><i class="fa fa-check"></i><b>11.2.1</b> Hypothese aufstellen</a></li>
<li class="chapter" data-level="11.2.2" data-path="t-tests.html"><a href="t-tests.html#daten-explorieren"><i class="fa fa-check"></i><b>11.2.2</b> Daten explorieren</a></li>
<li class="chapter" data-level="11.2.3" data-path="t-tests.html"><a href="t-tests.html#t-test-durchführen"><i class="fa fa-check"></i><b>11.2.3</b> T-Test durchführen</a></li>
<li class="chapter" data-level="11.2.4" data-path="t-tests.html"><a href="t-tests.html#cohens-d"><i class="fa fa-check"></i><b>11.2.4</b> Cohen´s d</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="t-tests.html"><a href="t-tests.html#t-test-für-unabhängige-stichproben"><i class="fa fa-check"></i><b>11.3</b> T-Test für unabhängige Stichproben</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="t-tests.html"><a href="t-tests.html#deskriptive-auswertung"><i class="fa fa-check"></i><b>11.3.1</b> Deskriptive Auswertung</a></li>
<li class="chapter" data-level="11.3.2" data-path="t-tests.html"><a href="t-tests.html#anwendungsvoraussetzungen"><i class="fa fa-check"></i><b>11.3.2</b> Anwendungsvoraussetzungen</a></li>
<li class="chapter" data-level="11.3.3" data-path="t-tests.html"><a href="t-tests.html#levene-test-auf-varianzhomogenität"><i class="fa fa-check"></i><b>11.3.3</b> Levene-Test auf Varianzhomogenität</a></li>
<li class="chapter" data-level="11.3.4" data-path="t-tests.html"><a href="t-tests.html#t-test-durchführen-1"><i class="fa fa-check"></i><b>11.3.4</b> T-Test durchführen</a></li>
<li class="chapter" data-level="11.3.5" data-path="t-tests.html"><a href="t-tests.html#cohens-d-1"><i class="fa fa-check"></i><b>11.3.5</b> Cohen´s d</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="t-tests.html"><a href="t-tests.html#t-test-für-abhängige-stichproben"><i class="fa fa-check"></i><b>11.4</b> T-Test für abhängige Stichproben</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="t-tests.html"><a href="t-tests.html#deskriptiver-vergleich"><i class="fa fa-check"></i><b>11.4.1</b> Deskriptiver Vergleich</a></li>
<li class="chapter" data-level="11.4.2" data-path="t-tests.html"><a href="t-tests.html#levene-tests-durchführen"><i class="fa fa-check"></i><b>11.4.2</b> Levene-Tests durchführen</a></li>
<li class="chapter" data-level="11.4.3" data-path="t-tests.html"><a href="t-tests.html#t-test-durchführen-2"><i class="fa fa-check"></i><b>11.4.3</b> T-Test durchführen</a></li>
<li class="chapter" data-level="11.4.4" data-path="t-tests.html"><a href="t-tests.html#cohens-d-2"><i class="fa fa-check"></i><b>11.4.4</b> Cohen´s d</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="literaturverzeichnis.html"><a href="literaturverzeichnis.html"><i class="fa fa-check"></i>Literaturverzeichnis</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Kompendium für die kommunikationswissenschaftliche Statistik- und Datenanalyse-Ausbildung am IJK Hannover</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="einführung-in-r-1" class="section level1" number="4">
<h1><span class="header-section-number">Kapitel 4</span> Einführung in R</h1>
<p>Nachdem nun die ersten Details zum Hintergrund von R geklärt sind und Sie vermutlich auch bereits R und RStudio installiert haben, kann es losgehen. Wir starten mit R. Ich gehe im Folgenden davon aus, dass Sie noch keinerlei Programmierkenntnisse haben.</p>
<p>Eine Programmiersprache zu lernen, hat gewisse Ähnlichkeit damit, eine Fremdsprache zu erlernen. Man muss die Grammatik kennen und Vokabeln pauken, um sich verständigen zu können. Und verständigen wollen Sie sich ja auch beim Schreiben von Code – nur eben nicht mit anderen Menschen, sondern mit einem Computer.</p>
<p>Leider sind Computer bisweilen ganz besonders pingelige Gesprächspartner. Sie beharren z.B. sehr genau auf korrekte Ausdrucksweisen und haben auch bei der Grammatik nur einen gewissen Spielraum. Zum Glück unterstützt RStudio das Lernen von R mit einigen Features, die uns die Verständigung leichter machen! Dadurch muss man z.B. nicht alle Vokabeln und die Syntax auswendig kennen, um sich verständigen zu können. Trotzdem sollte man natürlich den grundlegenden Aufbau – die Syntax der Sprache – kennen.</p>
<div id="r-syntax" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> R-Syntax</h2>
<p>Bevor wir tiefer in die Arbeit mit R und RStudio einsteigen, ist es jetzt an der Zeit, ein erstes eigenes R-Skript zu schreiben. Bereits im <a href="benutzeroberflächen.html#konsole">Abschnitt zu Konsole</a> haben Sie erste Syntax-Beispiele kennengelernt und gesehen, dass R ein passabler Taschenrechner ist. Jetzt möchten wir R genauer kennenlernen. Wenn Sie mögen, öffenen Sie ein neues R-Skript und übertragen Sie die Schritte.</p>
<div id="rechnen-mit-r" class="section level3" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Rechnen mit R</h3>
<p>OK, als <em>Taschen</em>rechner ist R vielleicht etwas unpraktisch. Trotzdem, rechnen ist natürlich eine der ureigensten Funktionen von R und selbstverständlich beherrscht es alle Grundrechenarten und alle Rechen- und Klammerregeln:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="einführung-in-r-1.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> (<span class="dv">2</span> <span class="sc">-</span> <span class="dv">3</span> <span class="sc">*</span> <span class="dv">4</span>) <span class="sc">/</span> <span class="dv">5</span> </span></code></pre></div>
<pre><code>## [1] -1</code></pre>
<p>Wenn Sie diese Zeile ausführen, z.B. über den Button “Run” oder durch den Shortcut <code>Cmd/Ctrl + Enter/Eingabe</code>, erhalten Sie umgehend das Ergebnis. In der Ausgabe wird dem Erhebnis eine <code>[1]</code> vorangestellt. Dies bedeutet, dass es sich um das erste Element des Ergebnisses handelt. Ergebnisse in R können nämlich auch mehrere Teile haben.</p>
</div>
<div id="zuweisungsoperatoren" class="section level3" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Zuweisungsoperatoren</h3>
<p>Dass man mit R rechnen kann, mag zwar im Einzelfall ganz nützlich sein, aber natürlich kann R viel mehr. Es würde z.B. Sinn machen, das Ergebnis von so einer Berechnung abzuspeichern, so dass wir zu einem späteren Zeitpunkt wieder darauf zugreifen können. Dazu gibt es in R den Zuweisungsoperator <code>&lt;-</code> Mit diesem Pfeil, der aus der spitzen Klammer und dem Bindestrich besteht, kann man einem Objekt einen Wert zuweisen. Den Namen des Objektes muss man selbst festlegen. Ich habe im folgenden ein Objekt erzeugt, dass ich <code>x</code> genannt habe und ihm den Wert der Berechnung <code>1 + 2</code> zugewiesen:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="einführung-in-r-1.html#cb4-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span></span></code></pre></div>
<p>Führt man diesen Code aus, wird in der Console nicht das Ergebnis ausgegeben. Stattdessen gibt es aber oben rechts im Tab “Environment” ein neues Objekt x, das den Wert 3 enthält:</p>
<p><img src="images/screenshot_environment.png" alt="Screenshot Environment mit x = 3"></p>
<p>Um das Objekt auch in der Console auszugeben kann man …</p>
<ol style="list-style-type: decimal">
<li>Den Befehl entweder in Klammern schreiben - so wird er gleichzeitig ausgeführt und ausgegeben. Man muss außerdem natürlich keine Rechenoperation auf die rechte Seite des Zuweisungsoperators schreiben, sondern kann direkt den Wert “3” zuweisen, wenn man ihn kennt ;)</li>
</ol>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="einführung-in-r-1.html#cb5-1" aria-hidden="true" tabindex="-1"></a>(x <span class="ot">&lt;-</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Einfach nach der Zuweisung nochmal ein x schreiben. Der Name des Objekts bewirkt immer, dass R versucht diesen in der Console darzustellen.</li>
</ol>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="einführung-in-r-1.html#cb7-1" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Das Objekt x dem <code>print()</code>-Befehl übergeben.</li>
</ol>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="einführung-in-r-1.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(x)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>Der Ausgabe in der Konsole stellt R immer eine eckige Klammer <code>[]</code> mit einer <code>1</code> voran. Dies bedeutet, dass es sich um das erste (und im obingen Beispiel auch jeweils das einzige) Element einer Ausgabe handelt. Ausgaben können aber durchaus auch aus mehreren Teilen bestehen und sogar ineinander verschachtelt sein, wie wir später noch sehen werden.</p>
</div>
<div id="objektnamen" class="section level3" number="4.1.3">
<h3><span class="header-section-number">4.1.3</span> Objektnamen</h3>
<p>Die Namen von Objekten kann man im Prinzip frei bestimmen. Natürlich bietet es sich an, sprechende Namen zu verwenden, die man sich einigermaßen gut merken kann, die aber trotzdem einigermaßen kurz sind. Außerdem ist es schlau, bei Variablen, die zusammengehörig sind, dasselbe Präfix zu verwenden (z.B. bei einer Skala zur Einstellung alle Variablen mit <code>attitude_</code> beginnen zu lassen).</p>
<p>Außerdem gibt es einige Regeln, an die man sich bei der Benennung halten muss:</p>
<ul>
<li><p>Objektnamen können große und kleine Buchstaben, Zahlen und Punkte (.) und Unterstriche (_) enthalten. Andere Zeichen sind nicht erlaubt, insbesondere keine Leerzeichen.</p></li>
<li><p>Zahlen, Punkte und Unterstriche dürfen nicht am Anfang stehen.</p></li>
<li><p>Umlaute (z.B. ä, Ö oder ß), Sonderzeichen (z.B. %, &amp; oder =) und Leerzeichen sind nicht erlaubt.</p></li>
<li><p>Objektnamen sind ein-eindeutig, das heißt es kann nur ein Objekt mit einem Namen geben und nicht zwei Objekte die beide “x” heißen.</p></li>
<li><p>Objektnamen sind “case sensitiv.” Das bedeutet, es kommt genau darauf an, ob große oder kleine Buchstaben verwendet werden. Die Namen x und X sind unterschiedlich und deshalb kann es beide Objekte gleichzeitig geben. Aber das wäre natürlich sehr verwirrend.</p></li>
<li><p>Man sollte keine Namen verwenden, die in R schon belegt sind (z.B. nicht “mean” für einen Mittelwert, weil es in R auch eine Funktion <code>mean()</code>gibt).</p></li>
</ul>
<p>Über diese Regeln hinaus gibt es Konventionen, an die man sich halten sollte, weil sie der Übersichtlichkeit dienen. Ich verwende z.B. gerne den snake_case, bei dem alle Objektnamen kleingeschrieben werden und unterschiedliche Namensbestandteile durch einen Unterstrich voneinander getrennt werden. Welcher Konvention man folgt, ist natürlich Geschmackssache.</p>
<img src="images/ah_in_that_case.png" alt="Artwork by Allison Horst" style="width:1000px;margin-bottom:5px;margin-top:50px">
<div style="color:grey;text-align:right">
Artwork by <a href="https://github.com/allisonhorst/stats-illustrations/">Allison Horst</a>
</div>
<p><br /></p>
</div>
</div>
<div id="kommentare" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Kommentare</h2>
<div id="einfache-kommentare" class="section level3" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Einfache Kommentare</h3>
<p>Bisher waren unsere R-Skripte noch nicht so wahnsinnig lang, aber Sie können sich vorstellen, dass es schnell komplexer werden kann. Damit wir den Überblick behalten, kann man in R auch Kommentare schreiben. Solche Kommentare werden durch ein <code>#</code> gekennzeichnet. Alles was in einer Zeile nach dem <code>#</code> steht, wird von R nicht interpretiert.</p>
<p>Da Code nicht nur für Computer gemacht ist, sondern auch für menschliche Leser, gehören Kommentare unbedingt dazu, wenn man R-Skripte schreibt. Man kann darin festhalten, warum man einen bestimmten Code wie geschrieben hat und gerade beim Lernen von R können Kommentare als Gedächtnisstütze dienen.</p>
<p>Hier ein paar Anwendungsbeispiele:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="einführung-in-r-1.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Dem Objekt x den Wert 3 zuweisen:</span></span>
<span id="cb11-2"><a href="einführung-in-r-1.html#cb11-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb11-3"><a href="einführung-in-r-1.html#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="einführung-in-r-1.html#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Hello World!&quot;</span>) <span class="co"># muss noch übersetzt werden...</span></span></code></pre></div>
<p>Man kann Kommentare auch dazu benutzen, Code, der noch nicht funktioniert (Bugs hat) auszukommentieren. Dabei setzt man einfach das <code>#</code> vor den fehlerhaften Code. Optimalerweise ergänzt man noch eine Notiz, die möglichst präzise beschreibt, was das (vermutete) Problem ist.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="einführung-in-r-1.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Der folgende Code ist irgendwie buggy, muss noch repariert werden! </span></span>
<span id="cb12-2"><a href="einführung-in-r-1.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co">#print(&quot;Hello World!)</span></span></code></pre></div>
<p>Leider kann man in R bisher keine mehrzeiligen Kommentare machen. Man muss also in jeder Zeile das <code>#</code> voranstellen.</p>
<div id="hint_short_cut" class="box thumb">
<p><strong>Best Practice: Kommentieren!</strong></p>
<p>Grundsätzlich gilt: Kommentieren Sie lieber zu viel als zu wenig und schreiben Sie Ihre Kommentare so, dass alle Personen, mit denen Sie ihr R-Skript teilen, den Code verstehen können. Denken Sie dabei vor allem an sich selbst! Werden Sie den Code nachvollziehen können, wenn Sie in 2 Jahren daraus etwas für Ihre Bachelorarbeit wiederverwenden wollen?</p>
</div>
</div>
<div id="sections" class="section level3" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Sections</h3>
<p>In R Studio kann man neben normalen Kommentaren über das Tastenkürzel <code>Cmd/Ctrl + Shift + R</code> Abschnitte (Sections) einfügen, mit denen man den Code gliedern kann. In R Studio kann man solche Abschnitte auch durch den kleinen Pfeil neben der Zeilennummer ein- und ausklappen. Das steigert die Übersichtlichkeit erheblich.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="einführung-in-r-1.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Hier beginnt ein neuer Abschnitt ----------------------------------------</span></span>
<span id="cb13-2"><a href="einführung-in-r-1.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Hello World!&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Hello World!&quot;</code></pre>
</div>
</div>
<div id="r-pakete" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> R-Pakete</h2>
<p>Die Programmiersprache R ist modular aufgebaut. Den Kern bildet das Basispaket “base R.” Es enthält bereits die grundsätzlichen Funktionen, aber richtig spannend und komfortabel wird es erst, wenn man sich weitere Pakete dazu holt.</p>
<p>Ein Paket ist eine Sammlung von Funktionen zu einem bestimmten Thema. Das Paket “ggplot2” ist ein Paket zur Ausgabe von statistischen Diagrammen. Neben den Funktionen kann ein Paket außerdem eine Dokumentation und Datensätze enthalten.</p>
<p>Im Prinzip kann Jeder ein R-Paket schreiben und im Internet teilen. Für Pakete, die in CRAN gehostet werden, gelten aber besondere Anforderungen und Qualitätsstandards. Sie müssen z.B. zwingend eine Dokumentation enthalten. Dennoch, auch die Pakete auf CRAN variieren sehr stark in ihrem Umfang und ihrer Aktualität, und darin, wie professionell sie weiterentwicklet werden. Hinter einigen Paketen stehen nur einzelne Entwickler:innen, andere werden von ganzen Teams freiwilliger Helfer entwickelt und wieder andere werden von Firmen wir z.B. von RStudio selbst entwickelt. Ein Beispiel für letzteres ist die Paket-Gruppe “tidyverse.”</p>
<div id="r-pakete-anzeigen" class="section level3" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> R-Pakete anzeigen</h3>
<p>Welche Pakete bereits auf Ihrem System installiert sind, können Sie ganz leicht in RStudio, links unten im Tab “Packages” nachsehen.</p>
<p>Bei mir sieht das im Moment so aus:
<img src="images/screenshot_packages.png" alt="Screenshot Packages-Tab"></p>
<p>Der Tab Packages zeigt eine Tabelle mit mehreren Spalten:</p>
<ul>
<li><p>Ganz vorne ist ein Kästchen, das anzeigt, ob ein Paket momentan nur installiert ist (= leeres Kästchen) oder ob es zusätzlich auch geladen ist (= Häkchen im Kästchen). Was das genau bedeutet, erläutere ich weiter unten. Auf jeden Fall sieht man in dem Screenshot, dass momentan nur eins der angezeigten Pakete geladen ist, namlich “base,” also das Kernpaket von R.</p></li>
<li><p>In der zweiten Spalte wird der Name des Paketes angezeigt. Er ist sogar verlinkt. Klickt man darauf, wird im Help-Tab die Hilfe zum entsprechenden Paket angezeigt.</p></li>
<li><p>Nach dem Namen folgt eine kurze Beschreibung, die erklärt, was das Paket macht.</p></li>
<li><p>Dahinter folgt die Versionsnummer. Jedes Paket hat eine eigene Versionsnummer, weil es ganz unabhängig von R gepflegt und upgedatet wird.</p></li>
<li><p>Am Ende der Tabelle stehen zwei Icons, wobei das erste einen Link beinhaltet, der zur entsprechenden Seite des Paketes auf dem CRAN führt.</p></li>
<li><p>Mit dem X-Icon kann man ein Paket deinstallieren.</p></li>
</ul>
</div>
<div id="r-pakete-installieren" class="section level3" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> R-Pakete installieren</h3>
<p>Oben im Tab “Packages” sind mehrere Icons und ein Suchfeld.</p>
<ul>
<li><p>Wenn Sie das Icon “Install” klicken, öffnet sich ein Popup, mit dem Sie das CRAN nach Paketnamen durchsuchen und die gefundenen Pakete auch direkt installieren können. Es gibt noch weitere Möglichkeiten, Pakte zu installieren, auf die ich später hinweisen werde. Für das erste können Sie Pakete hier installieren.</p></li>
<li><p>Bei “Update” öffnet sich ebenfalls ein Pop-Up. Es zeigt an, von welchem der installierten Pakete es bereits eine neuere Version gibt und bietet auch gleich die Möglichkeit, diese upzudaten.</p></li>
<li><p>Das Icon “Packrat” ist zunächst nicht wichtig für uns.</p></li>
<li><p>Ganz hinten in der Leiste befindet sich noch ein Suchfeld, mit dem Sie die Liste der installierten Pakete durchsuchen können.</p></li>
</ul>
<p><img src="images/screenshot_install_packages.png" alt="Screenshot Install Packages"></p>
</div>
<div id="pakete-laden" class="section level3" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Pakete laden</h3>
<p>Damit man ein Paket einsetzen kann, muss es nicht nur installiert, sondern während einer R-Session auch geladen werden. Der Sinn dahinter ist, dass es durch die hohe Anzahl an Paketen sonst schnell zu Überschneidungen kommen kann.</p>
<p>Es gibt zwei Möglichkeiten, ein Paket zu laden:</p>
<ol style="list-style-type: decimal">
<li><p>Durch Anhaken in der Liste im Package-Tab</p></li>
<li><p>Durch den Befehl <code>library(package_name)</code>.</p></li>
</ol>
<p><strong>Tipp!</strong></p>
<p>Wenn Sie ein längeres R-Skript schreiben und dazu die Befehle aus bestimmten Paketen verwenden, macht es sehr viel Sinn, die zweite Option zu nutzen. Am besten Sie schreiben die <code>library()</code>-Befehle gleich nach ganz oben in Ihr Skript.</p>
<p>Das ist guter Stil, denn es macht gleich am Anfang deutlich, welche Pakete für ein Skript benötgt werden. Außerdem bewahrt es Sie auch davor, dass Sie beim nächsten Öffnen Ihres Skriptes nicht mehr wissen, welche Pakete Sie anhakeln müssen.</p>
</div>
<div id="dokumentation" class="section level3" number="4.3.4">
<h3><span class="header-section-number">4.3.4</span> Dokumentation</h3>
<p>Jedes Paket, das über das CRAN gehostet wird, verfügt über eine Dokumentation. Sie kann durch Klick auf den Paketnamen in der Liste im Package-Tab aufgerufen werden oder durch den Befehl <code>?package_name</code>. Sie öffnet sich dann im Help-Tab.</p>
<p>Außerdem haben manche Pakete eine Vignette. Das ist eine ausführlichere Dokumentation, häufig mit einführenden Worten und Anwendungsbespielen. Die Vignette kann durch den Befehl <code>vignette("name")</code> aufgerufen werden, allerdings müssen Sie dazu den Namen der Vignette kennen. Beachten Sie außerdem dabei die Anführungszeichen. Häufig heißen die Vignetten wie die Pakete. Mit <code>browseVignettes("suchwort")</code> können Sie außerdem nach Vignetten suchen.</p>
</div>
<div id="pakete-finden" class="section level3" number="4.3.5">
<h3><span class="header-section-number">4.3.5</span> Pakete finden</h3>
<p>Durch die schier unübersichtliche Anzahl an Paketen fällt es schwer, den Durchblick zu erlangen, welches Paket gerade für eine Aufgabe besonders gut geeignet ist. In vielen Fällen gibt es mehrere Pakete, die die gleichen Aufgaben erfüllen. Welches Paket das beste ist oder ob die Funktionalität immer exakt die gleiche ist, ist oft gar nicht so leicht herauszufinden. Ganz schön verwirrend am Anfang!</p>
<p>In einem R-Kurs werden Ihnen die Dozierenden natürlich immer die erforderlichen Pakete nennen. Wenn Sie nach bestimmten Anwendungen suchen, hilft ihnen neben googeln auch <a href="https://www.r-pkg.org/">MetaCRAN</a>, eine Suchmaschine für R-Pakete. Es kann ein Kriterium bei der Auswahl sein, sich anzusehen, wann die letzte Version eines Paketes erscheinen ist. Mit der Zeit werden Sie sich einen Stamm nützlicher Pakete zusammensammeln.</p>
</div>
</div>
<div id="funktionen" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Funktionen</h2>
<p>Eine Funktion ist ein Befehl, den man ausführen kann, um irgendetwas bestimmtes zu erreichen. In den vorigen Kapiteln kamen auch schon vereinzelt Funktionen vor, wie z.B. die <code>print()</code>-Funktion, die dazu dient, einen Text in die Konsole zu schreiben. Wir haben auch bereits gelernt, dass R-Pakete Sammlungen von Funktionen sind. Nun werden wir uns noch etwas näher mit dem Aufbau und der Anwendung von Funktionen befassen.</p>
<div id="aufbau-argumente" class="section level3" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> Aufbau &amp; Argumente</h3>
<p>Normale Funktionen haben die folgende Form:</p>
<p><code>function_name(argument)</code></p>
<p>Eine Funktion kann ein oder mehrere Argumente haben, muss sie aber nicht. Argumente sind Objekte, mit denen die Funktion irgendetwas tun soll. Die Funktion <code>print(argument)</code> erwartet beispielsweise als Argument ein Objekt, dessen Inhalt sie in die Konsole schreiben kann. Fehlt dieses Argument, wird ein Fehler ausgegeben.</p>
<p>Wenn eine Funktion mehrere Argumente hat, werden diese durch Kommas separiert:</p>
<p><code>function_name(argument_1, argument_2, argument_3)</code>.</p>
<p>Häufig müssen die Argumente einer bestimmten Klasse angehören, damit die Funktion ihren Zweck erfüllen kann. Die Funktion <code>mean()</code> rechnet beispielsweise das arithmetische Mittel einer Zahlenfolge aus, deshalb braucht sie auch zwingend eine Zahlenfolge als Argument. Mit Buchstaben könnte sie nichts anfangen.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="einführung-in-r-1.html#cb15-1" aria-hidden="true" tabindex="-1"></a>some_numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">1008</span>)</span>
<span id="cb15-2"><a href="einführung-in-r-1.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(some_numbers)</span></code></pre></div>
<pre><code>## [1] 86,58333</code></pre>
<p>Argumente können von der Funktion zwingend vorausgesetzt werden oder optional sein. Die Funktion <code>mean()</code> benötigt zwangsläufig ihre Zahlenreihe, sonst kann logischerweise kein Mittelwert berechnet werden. Sie hat aber noch zwei weitere Argumente, die <code>trim</code> und <code>na.rm</code> heißen. Diese beiden Argumente müssen nicht unbedingt mit an die <code>mean</code>-Funktion übergeben werden. Die Programmierer von R haben für beide Argumente Standardwerte (<em>default values</em>) vordefiniert, die im Normalfall sinnvoll sind. Wenn man von den Standards abweichen will, kann man die Argumente aber zusätzlich mit übergeben.</p>
<ul>
<li><p>Mit <code>trim</code> kann man statt dem normalen ein getrimmtes arithmetisches Mittel berechnen. Dabei werden die niedrigsten und höchsten x Prozent der Werte aus der Zahlenreihe entfernt. Die Berechnung wird so stabil gegenüber extremen Ausreißern.</p></li>
<li><p>Mit <code>na.rm</code> (für <em>NA remove</em>) wird definiert, wie mit fehlenden Werten innerhalb der Zahlenfolge umgegangen werden soll. Sind fehlende Werte (<code>NA</code>) enthalten, möchte man diese wahrscheinlich vor der Berechnung entfernen, denn einen fehlenden Wert kann R nicht interpretieren. Man muss deshalb das Argument <code>na.rm = TRUE</code> setzen. Der Standardwert ist <code>FALSE</code>.</p></li>
</ul>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="einführung-in-r-1.html#cb17-1" aria-hidden="true" tabindex="-1"></a>some_numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="cn">NA</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">1008</span>)</span>
<span id="cb17-2"><a href="einführung-in-r-1.html#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(some_numbers, <span class="at">trim =</span> <span class="fl">0.1</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 3,222222</code></pre>
<p>Es ist übrigens nicht notwendig, immer den Namen der Argumente mit anzugeben. Wenn man die Reihenfolge der Argumente kennt, kann man auch einfach die Werte in der richtigen Reihenfolge übergeben:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="einführung-in-r-1.html#cb19-1" aria-hidden="true" tabindex="-1"></a>some_numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="cn">NA</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">1008</span>)</span>
<span id="cb19-2"><a href="einführung-in-r-1.html#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(some_numbers, <span class="fl">0.1</span>, <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 3,222222</code></pre>
<p>Diese Schreibweise ist aber weniger übersichtlich, man muss die Funktion schon sehr gut kennen, um zu wissen welches Argument an welcher Stelle kommt. Da Programm-Code immer auch für Menschen und nicht nur für den Computer geschrieben wird, ist es nicht empfehlenswert die Namen der Argumente wegzulassen. Zudem muss man sich auch nicht zwangsläufig an eine vordefinierte Reihenfolge halten, wenn man im Code auch die Namen angibt.</p>
<p>Vielleicht haben Sie bemerkt, dass ich im Code bei der <code>mean()</code>- und der <code>print()</code>-Funktion das erste Argument nicht mit seinem Namen angesprochen habe. Natürlich hat auch dieses Argument einen Namen, es heißt <code>x</code>. Jedoch ist es sehr üblich, dass Daten-Objekte in Funktionen an vorderster Stelle übergeben werden. Es ist eine Konvention in diesem Fall den Namen doch wegzulassen.</p>
<p>Es gibt übrigens auch einige wenige Funktionen, die gar keine Argumente benötigen, wie etwa <code>Sys.Date()</code>. Diese Funktion gibt einfach nur das aktuelle Datum aus. Da sie dazu nur auf die Systemzeit des Computers zugreifen muss, braucht sie kein Argument.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="einführung-in-r-1.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.Date</span>()</span></code></pre></div>
<pre><code>## [1] &quot;2021-07-19&quot;</code></pre>
</div>
<div id="funktionen-verschachteln" class="section level3" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> Funktionen verschachteln</h3>
<p>Es ist möglich, mehrere Funktionen ineinander zu verschachteln. Sie werden dann von innen nach innen abgearbeitet. Im folgenden Codebeispiel wird der durch <code>mean()</code> berechnete Mittelwert (= innere Funktion) durch die Funktion <code>round()</code> auf eine Stelle (zweites Argument <code>, 1</code>) gerundet:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="einführung-in-r-1.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">mean</span>(some_numbers, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 94,4</code></pre>
<p>Das Verschachteln ist bisweilen nützlich, jedoch kann es sehr schnell unübersichtlich werden. Deshalb sollte man sich beim Coden bemühen, maximal zwei Funktionen ineinander zu verschachteln. Wir lernen später noch eine übersichtlichere Möglichkeit, einen Code zu verketten, im Abschnitt zur <a href="datenaufbereitung.html#pipe">Pipe</a>.</p>
</div>
<div id="hilfe-für-funktionen" class="section level3" number="4.4.3">
<h3><span class="header-section-number">4.4.3</span> Hilfe für Funktionen</h3>
<p>Jede Funktion aus einem offiziellen CRAN-Paket hat auch eine Dokumentation oder Hilfe. Sie können im Help-Tab nach Funktionen suchen oder aber durch ausführen von <code>?function_name()</code> die Hilfe aufrufen. Außerdem ruft RStudio die Hilfe auch auf, wenn Sie den Cursor auf einer Funktion positionieren und dann <code>F1</code> drücken.</p>
<p>Die Hilfe ist immer ähnlich aufgebaut und sie ist wirklich sehr nützlich, gerade, wenn man mit der Anwendung einer Funktion noch nicht so vertraut ist. Hier ein Überblick über die Hilfe zu <code>mean()</code>:</p>
<p><img src="images/screenshot_help_function.png" alt="Beispiel-Hilfe" style="float:left;margin-bottom:25px;margin-top:10px;margin-right:500px"></p>
</div>
</div>
<div id="doppelte-funktionsnamen" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Doppelte Funktionsnamen</h2>
<p>Es gibt manchmal den Fall, dass es in zwei unterschiedliche Paketen zwei Funktionen gibt, die gleich heißen. Das kommt natürlich dadurch zustande, dass jeder ein R-Paket entwickeln kann. Beispielsweise gibt es sowohl im Paket <code>chron</code> als auch im Paket <code>tseries</code> jeweils eine Funktion <code>ìs.weekend()</code>, die prüft, ob eine bestimmtes Datum ein Wochenendtag ist. Die beiden Funktionen funktionieren jedoch etwas unterschiedlich. Während die <code>chron</code>-Funktion eine normale Datumsangabe als erstes Argument erwartet, benötigt die <code>tseries</code>-Funktion ein spezielles Objekt aus eben diesem Paket. Hat man beide Pakete geladen und möchte die Funktion <code>ìs.weekend()</code> benutzen, kann das natürlich zu Fehlern führen. R würde dann auf die Funktion aus dem zuletzt geladenen Paket zurückgreifen. - Es ist aber fraglich, ob das gerade die richtige ist!</p>
<p>Zum Glück weist R auf gleiche Funktionsnamen hin. In der Meldung nach dem Laden eines Paketes informiert R darüber, dass verschiedene Funktionen aus zuvor geladenen Paketen “maskiert” wurden. Hier ein Beispiel:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="einführung-in-r-1.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<pre><code>## 
## Attache Paket: &#39;dplyr&#39;</code></pre>
<pre><code>## Die folgenden Objekte sind maskiert von &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## Die folgenden Objekte sind maskiert von &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<p>Um Fehler zu vermeiden, bietet es sich an, nicht allzu viele Pakete gleichzeitig zu laden. Dann sind solche Konflikte weniger wahrscheinlich. Manchmal kann man sie aber nicht umgehen, weil man die beiden Pakete nun mal gleichzeitig benötigt. Deshalb kann man in R deutlich machen, aus welchem Paket eine Funktion stammen soll und zwar indem der Paketname gefolgt von zwei Doppelpunkten der Funktion vorangestellt wird, also: <code>package::function()</code>, z.B. <code>chon::is.weekend()</code> oder <code>stats:filter()</code>. Man kann diese Notation auch benutzen, um auf eine Funktion aus einem Paket zuzugreifen, dass man zwar installiert, aber in der aktuellen Session gar nicht geladen hat.</p>
</div>
<div id="eigene-funktionen-schreiben" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Eigene Funktionen schreiben</h2>
<p>Das tolle an Programmiersprachen ist, dass sie grundsätzlich nicht beschränkt sind auf die Funktionen, die sie von Haus aus mitbringen. Anwender:innen können eigene Funktionen schreiben und damit den Funktionsumfang erweitern und auf die ganz persönlichen Bedürfnisse anpassen. Natürlich ist “neue Funktionen schreiben” nicht gleich das erste, was man tut, wenn man mit dem Lernen von R beginnt. Und das ist am Anfang auch gar nicht notwendig, weil es wahnsinnig vielen Pakete bereits gibt, die auch schon einen immensen Funktionsumfang haben.</p>
<p>Trotzdem, eine eigene Funktion zu schreiben ist gar nicht so schwer und deshalb wird hier zum Abschluss noch kurz erläutert wie das geht. Zum Schreiben von Funktionen benötigt man auch eine Funktion, nämlich <code>function()</code>. Der grundsätzliche Aufbau ist, dass man zunächst einen Namen für die neue Funktion vergibt und dann mit dem Zuweisungsoperator <code>&lt;-</code> zuweist, dass es sich bei dem neuen Objekt um eine Funktion handelt, die mit <code>function()</code> erstellt wird. In der Klammer von <code>function()</code> kann man noch die Argumente der Funktion und ihre Default-Werte übergeben, sofern die Funktion Argumente benötigt. Nach der schließenden Klammer folgt ein Paar geschweifte Klammern <code>{}</code> innerhalb derer die Operationen, die die Funktion durchführen soll, programmiert werden müssen.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="einführung-in-r-1.html#cb29-1" aria-hidden="true" tabindex="-1"></a>function_name <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">argument_1 =</span> default_value_1, ...){</span>
<span id="cb29-2"><a href="einführung-in-r-1.html#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Hier die Operationen, die die Funktion durchführen soll</span></span>
<span id="cb29-3"><a href="einführung-in-r-1.html#cb29-3" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p>Nachdem der Code ausgeführt wurde, erscheint die Funktion im Environment-Tab in RStudio. Funktionen sind in R ebenfalls Objekte.</p>
<p>Funktionen können in der Regel mindestens eines der folgenden Dinge:</p>
<ul>
<li><p>Eingabewerte (Argumente) in Ausgabewerte/Ergebnisse verwandeln</p></li>
<li><p>Nebeneffekte haben: Z.B. eine Meldung in die Konsole schreiben</p></li>
</ul>
<p>Eine Funktion gibt als Ergebnis standardmäßig das Objekt zurück, dass innerhalb des Codeblocks als letztes erzeugt wurde. Man kann kann über <code>return()</code> aber auch explizit festlegen, was die Funktion zurückgeben soll. Das ist insofern besser, als dass man sich als Coder:in dann bewusst macht, was die Funktion als Ergebnis liefert.</p>
<p>Zum Abschluss folgt hier ein kleines Beispiel für eine Funktion, die einfach nur den Zweck hat, eine Grußbotschaft zusammenzubauen. Man kann der Funktion optional einen Namen als Argument übergeben. Tut man dies nicht, wird ein Default-Wert eingesetzt:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="einführung-in-r-1.html#cb30-1" aria-hidden="true" tabindex="-1"></a>hello <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">name =</span> <span class="st">&quot;Unbekannte:r&quot;</span>){</span>
<span id="cb30-2"><a href="einführung-in-r-1.html#cb30-2" aria-hidden="true" tabindex="-1"></a>  string <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;Hallo &quot;</span>, name, <span class="st">&quot;! Viel Spaß beim R lernen!&quot;</span> )</span>
<span id="cb30-3"><a href="einführung-in-r-1.html#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(string)</span>
<span id="cb30-4"><a href="einführung-in-r-1.html#cb30-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="einführung-in-r-1.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hello</span>()</span></code></pre></div>
<pre><code>## [1] &quot;Hallo Unbekannte:r! Viel Spaß beim R lernen!&quot;</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="einführung-in-r-1.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hello</span>(<span class="st">&quot;Du&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Hallo Du! Viel Spaß beim R lernen!&quot;</code></pre>
<p>Natürlich gibt es noch viel mehr über das Programmieren von Funktionen zu wissen. Für den Einstieg sollten Sie sich aber erstmal mitnehmen, dass das gar nicht so schwer ist!</p>
</div>
<div id="r-projekte" class="section level2" number="4.7">
<h2><span class="header-section-number">4.7</span> R-Projekte</h2>
<p><strong>Kurze Info vorab:</strong> Der Abschnitt Projekte ist nur für die Arbeit auf Ihrem eigenen Rechner relevant. Wenn Sie in der RStudio-Cloud arbeiten, ist das Projekt bereits angelegt worden. Sie können dort keine eigenen Projekte anlegen. Das kann dort nur Ihr Admin.</p>
<p><img src="images/icon_rproject.png" alt="Rprotect Icon"  style="float:right;margin-top:15;margin-left:15px;margin-bottom:5px">Beginnt man die Arbeit an einem neuen Datenanalyseprojekt oder nimmt an einem Seminar teil, macht es Sinn, dafür ein neues R-Projekt anzulegen. Ein R-Projekt organisiert die Dateien in einem Ordner auf dem Computer als zusammengehörig und setzt außerdem das Arbeistverzeichnis (<em>working directory</em>) auf das Verzeichnis des Projekts. Das ist sehr praktisch, weil man so die Übersicht behält und zusammengehörige .R-Dateien gemeinsam mit Daten und weiteren Dateien, wie z.B. Forschungsberichten aus RStudio heraus übersichtlich organisieren kann.</p>
<div id="arbeitsverzeichnis" class="section level3" number="4.7.1">
<h3><span class="header-section-number">4.7.1</span> Arbeitsverzeichnis</h3>
<p>Möchte man in einem R-Skript auf andere Dateien zugreifen (z.B. auf Daten im Excel- oder CSV-Format) muss man im Skript auf Dateipfad und Namen dieser anderen Dateien verweisen. Das ist ja logisch, woher sollte R sonst wissen, welche der vielen Dateien, die auf einem Rechner sind, geöffnet werden soll? Man muss also die “Adresse” kennen, sprich wissen, in welchem Ordner auf der Festplatte die Datei abgespeichert wurde und wie sie genau heißt. Bei so einem “Verweis” auf eine andere Datei kann man entweder den <em>absoluten</em> oder den <em>relativen</em> Pfad angeben. Die einzelnen Ordner und Unterordnernamen werden mit einem Schrägstrich (englisch “slash,” also <code>/</code>) getrennt.</p>
<p><strong>Absolut</strong> heißt ein Pfad immer dann, wenn der komplette Pfad (ausgehend von dem “root”-Verzeichnis der Festplatte) angegeben wird. Eine Datei könnte z.B. hier liegen:</p>
<ul>
<li><p>Windows: <code>C:/Users/julia/my_project/data/my_data.xlsx</code></p></li>
<li><p>Unix und MacOS: <code>/Users/julia/my_project/my_data.xlsx</code></p></li>
</ul>
<div id="info_windows_path" class="box danger">
<p><strong>Achtung: Pfade bei Windows</strong></p>
<p>Windows trennt die Ordner im Dateipfad üblicherweise mit Backslashes <code>\</code>, z.B. wenn sie über Rechtsklick “Adresse als Text kopieren” in die Zwischenablage gespeichert werden. Unix-Systeme wie MacOs nutzen den normalen Slash und auch R erwartet den normalen Slash. Windows-Nutzer:innen müssen hier also aufpassen und kopierte Pfade ggf. so umschreiben, dass sie normale Slashes <code>/</code> enthalten!</p>
</div>
<p>Ein <strong>relativer</strong> Pfad ist meistens kürzer als ein absoluter. Beim relativen Pfad muss nicht die “komplette Anschrift” angegeben werden, sondern nur der Pfad relativ gesehen zu der Adresse, von der R aus gerade operiert. R hat nämlich auch einen Ordner im Dateisystem, von dem aus es “arbeitet.” Dieses Verzeichnis nennt man naheliegenderweise <em>Arbeitsverzeichnis</em>. Standardmäßig wird das Arbeitsverzeichnis bei der Installation von R auf den Ordner “Eigenen Dateien” gesetzt, man kann das aber auch anpassen. Beispiel-Arbeitsverzeichnis-Pfad:</p>
<ul>
<li><p>Windows: <code>C:/Users/julia/</code></p></li>
<li><p>Unix und MacOS: <code>/Users/julia/</code></p></li>
</ul>
<p>Man kann aber auch innerhalb der R-Session ändern, aus welchem Arbeitsverzeichnis heraus R operiert. Das geht über diese Befehle:</p>
<ul>
<li><p>Mit dem Befehl <code>getwd()</code> kann man sich das aktuelle Arbeitsverzeichnis anzeigen lassen.</p></li>
<li><p>Mit <code>setwd("mein_pfad")</code> kann man das Arbeitsverzeichnis bestimmen (“setzen”).</p></li>
</ul>
<p>Die beiden Befehle braucht man in der Regel jedoch nicht, wenn man R-Projekte verwendet. Denn auch die <code>.RProject</code>-Datei verändert das Arbeitsverzeichnis. Wenn R über einen Doppelklick auf eine <code>.RProject</code>-Datei geöffnet wird, setzt R in der aktuellen Session das Arbeitsverzeichnis auf den Ordner, in dem die Datei liegt. Das ist sehr praktisch (siehe Best-Practice-Box).</p>
<p>Will man jetzt vom Arbeitsverzeichnis <code>C:/Users/julia/</code> aus über einen relativen Pfad auf den gleichen Datensatz wie im obigen absoluten Beispiel zugreifen, spart man sich den Teil der Adresse, den das R-Arbeitsverzeichnis und der Datensatz gemeinsam haben: R findet die Datei also auch, wenn man nur <code>my_project/data/my_data.xlsx</code> angibt.</p>
<p>Ein bisschen kann man dieses System mit den absoluten und relativen Pfaden mit Festnetz-Telefonnummern vergleichen: Wenn Sie in Hannover sind und möchten mich im Home-Office in Hamburg anrufen, dann müssen Sie die Vorwahl von Hamburg + meine Telefonnummer wählen (also den kompletten Pfad). Möchten Sie aber das Sekretariat des IJK erreichen, brauchen Sie die Vorwahl nicht zu wählen, weil automatisch angenommen wird, dass Sie eine Nummer im gleichen Vorwahl-Bereich erreichen wollen.</p>
<div id="info_best_practice_rproj" class="box thumb">
<p><strong>Best Practice: Relative Pfade und R-Projekte!</strong></p>
<p>Relative Pfade haben gegenüber absoluten Pfaden einen entscheidenden Vorteil, den ich hier an einem konkreten Beispiel illustrieren möchte:</p>
<p>Stellen Sie sich vor, Sie haben ein Analyseprojekt mit einem R-Skript und einem Datensatz. Das R-Skript haben Sie unter dem Pfad <code>C:/Users/julia/my_project/</code> als <code>my_script.R</code> abgelegt. In diesem Ordner haben Sie einen Unterordner <code>data</code> angelegt, der die Datei <code>my_data.xlsx</code> enthält. Sie greifen in dem Skript einmal auf diesen Datensatz zu und haben den Pfad absoult angegeben. Das sähe dann so aus: <code>C:/Users/julia/my_project/data/my_data.xlsx</code>.</p>
<p>Nach Ihrer R-Session entscheiden Sie, dass Sie den Projektordner gerne umbenennen würden oder dass Sie das ganze Projekt lieber an einen anderen Ort auf Ihrer Festplatte verschieben wollen. Zwei Wochen später öffnen Sie das R-Skript wieder und führen es aus. Natürlich findet das Skript die Excel-Datei nicht mehr, da sich ja der Pfad (die “Adresse”) geändert hat. Sie müssen den Pfad im Skript aktualisieren!</p>
<p>Wenn Sie nur in einem Skript auf nur eine andere Datei verweisen, ist das Aktualisieren lästig, aber überschaubar. Wenn Sie jedoch ein großes Projekt mit vielen Dateien haben, ist das eine Heidenarbeit, die keiner gerne machen möchte. Mit einem <em>relativen Pfad</em> können Sie diese Arbeit vermeiden.</p>
<p>Der relative Pfad ist auch dann hilfreich, wenn Sie den Projektordner mit anderen Personen teilen (z.B. über eine Cloud oder durch verschicken des gezippten Ordners per Mail), denn die absoluten Pfade heißen ja vermutlich auf dem Rechner der anderen Personen anders (z.B. <code>C:/Users/sophie/my_project/</code>).</p>
<p>Es ist deshalb <strong>Best Practice alle Dateien, die zu einem Analyseprojekt gehören, innerhalb eines Projektordners abzulegen</strong>. Auf der obersten Ebene in diesem Ordner sollte die <code>.RProject</code>-Datei liegen. Das Projekt <strong>sollte immer über die .RProject`-Datei geöffnet werden</strong> (per Doppelklick oder über das RStudio-Menü), weil dann das Arbeitsverzeichnis auf den Projektordner gesetzt wird. Die Pfade sollten in den Skripten immer relativ gesehen zum Projektverzeichnis angelegt werden.</p>
<p>Zudem ist es empfehlenswert, sich bereits zu Beginn des Analyseprojekts Gedanken über die Ordnerstruktur und die Dateinamen zu machen und/oder gängige Standards zu verwenden (z.B. Unterordner “data” für Daten, “plots” für Outputgrafiken, keine Leerzeichen in Dateinamen, Zahlen mit führenden Nullen zur Sortierung der Dateien und wenn ein Datum im Dateinamen verwendet werden soll, dann immer im ISO-Format “2021-09-29,” weil dieses chronologisch sortiert wird).</p>
</div>
<p>Nicht verwirren lassen: Das Arbeisverzeichnis kann in jeder R-Session ein anderes sein (je nach Analyseprojekt) und auch in den oben genannten Beispielen waren jeweils unterschiedliche Verzeichnisse das Arbeitsverzeichnis – je nachdem, ob es sich um das standardmäßig bei der Installation von R gesetzte Verzeichnis handelte oder das Verzeichnis, was die <code>.RProjekt</code>-Datei gesetzt hat. Es ist sehr wichtig, das man selbst weiß, in welchem Verzeichnis R momentan arbeitet, wenn man auf andere Dateien zugreifen will. Im Zweifel nutzt man den base-R-Befehl <code>getwd()</code> um schnell einmal nachzusehen.</p>
</div>
<div id="r-projekte-anlegen" class="section level3" number="4.7.2">
<h3><span class="header-section-number">4.7.2</span> R-Projekte anlegen</h3>
<p>Um ein R-Projekt anzulegen, klicken Sie im Menü auf “File” &gt; “New Project….” Sie werden durch den folgenden Dialog geleitet:</p>
<p>Im <strong>ersten Schritt</strong> müssen Sie entscheiden, ob für das Projekt ein neues Verzeichnis auf Ihrem Computer angelegt werden soll oder ob Sie das Projekt in einem bereits bestehenden Verzeichnis anlegen möchten. Bei letzterer Option dürfen sich auch bereits schon Dateien in dem Verzeichnis befinden (z.B. alte R-Skripte oder Daten). Der Normalfall ist aber Ersteres:</p>
<p><img src="images/screenshot_new_project.png" alt="Screenshot neues Projekt anlegen: Schritt 1" style="float:left;margin-right:300px;margin-bottom:25px;margin-top:10px"></p>
<p>Im <strong>zweiten Schritt</strong> müssen Sie auswählen, um was für eine Art von Projekt es sich handeln soll. Es gibt unterschiedliche Typen, z.B. sind auch R-Pakete R-Projekte. Der Normalfall ist vermutlich, dass Sie ein neues Projekt mit einem leeren Ordner anlegen.</p>
<p><img src="images/screenshot_new_project_2.png" alt="Screenshot neues Projekt anlegen: Schritt 2" style="float:left;margin-right:300px;margin-bottom:25px;margin-top:10px"></p>
<p>Im <strong>dritten und letzten Schritt</strong> müssen Sie den Namen für das R-Projekt und den Ordner, in dem es erstellt werden soll, festlegen.</p>
<p><img src="images/screenshot_new_project_3.png" alt="Screenshot neues Projekt anlegen: Schritt 3" style="float:left;margin-right:300px;margin-bottom:25px;margin-top:10px"></p>
<p>Nachdem Sie das Projekt angelegt haben, erzeugt RStudio die <strong>.RProject-Datei</strong> und öffnet das Projekt. Im Fenster “Files” können Sie die Projektdatei sehen:
<img src="images/screenshot_rproject.png" alt=".RProject-Datei" style="float:left;margin-right:350px;margin-bottom:25px;margin-top:10px"></p>
<p>Für alle R-Dateien, die angelegt werden, solange das Projekt geöffnet ist, wird der Projektordner als Speicherort angeboten. Man kann aber davon abweichen und z.B. auch Unterordner zur besseren Organisation anlegen.</p>
</div>
</div>
<div id="datenimport-und-datenexport" class="section level2" number="4.8">
<h2><span class="header-section-number">4.8</span> Datenimport und Datenexport</h2>
<p>Um mit R Statistiken berechnen zu können, müssen natürlich zunächst die Daten in R geladen werden. Mit R kann man ganz unterschiedliche Datenformate öffnen, darunter natürlich das R-eigene Datenformat .RData, aber auch .csv-Dateien und Dateien aus anderen Programmen wie Excel oder SPSS.</p>
<p>Gerade beim Import dieser für R “fremden” Dateiformate gibt es unterschiedliche Pakete, die beim Import unterstützen können.</p>
<div id="csv-dateien-importieren" class="section level3" number="4.8.1">
<h3><span class="header-section-number">4.8.1</span> CSV-Dateien importieren</h3>
<p>Das CSV-Format (CSV für comma-separated values) ist ein sehr übliches Dateiformat, das von vielen Programmen gelesen werden kann. Die Daten werden dabei so gespeichert, dass jede Zeile einen Fall darstellt und jede Spalte eine Variable. Die einzelnen Werte werden durch ein Trennzeichen separiert. Im Englischen ist das Komma, im Deutschen meist ein Semikolon. Die erste Zeile der Datei enthält die Namen der Variablen. Würde man eine CSV-Datei in einem Texteditor öffnen, würde sie in etwa so aussehen:</p>
<p><code>id;last_name;first_name;age;...</code><br />
<code>1;Apel;Susanne;56;...</code><br />
<code>2;Becker;Fritz;67;...</code><br />
<code>3;Coşkun;Ediz;24;..</code><br /></p>
<p>Es gibt zwar auch in base-R die Möglichkeit, CSV-Dateien zu laden, etwas zuverlässiger funktioniert es aber mit dem Paket <code>readr</code> aus dem tidyverse. Es gibt in dem Paket gleich zwei Funktionen zum Laden von CSV-Daten. Mit <code>read_csv()</code> können Daten eingelesen werden, in denen das Komma als Trennzeichen benutzt wurde. Das ist in der Regel bei Dateien, die aus dem englischen Sprachraum stammen, der Fall. Im Deutschen benutzen wir jedoch das Komma als Dezimaltrenner. Gerade bei zahlenlastigen Datensätzen wäre es daher ungünstig, das Komma zusätzlich auch noch als Trennzeichen in einer Daten-Datei zu verwenden. Deshalb wird hier das Semikolon als Trenner verwendet. Die Funktion <code>read_csv2()</code> geht von einer durch Semikolons separierten CSV-Datei aus.</p>
<p>Im folgenden Beispielskript wird zunächst das Paket geladen, dann die Datei (die im Unterordner “data” leigt) eingelesen und im Anschluss angezeigt:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="einführung-in-r-1.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Laden des Paketes</span></span>
<span id="cb35-2"><a href="einführung-in-r-1.html#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb35-3"><a href="einführung-in-r-1.html#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="einführung-in-r-1.html#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Einlesen der Daten</span></span>
<span id="cb35-5"><a href="einführung-in-r-1.html#cb35-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="st">&quot;data/ZA6738_v1-0-0_generation_z.csv&quot;</span>, <span class="at">na =</span> <span class="st">&quot;99&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="einführung-in-r-1.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ausgabe der ersten 5 Zeilen und 7 Spalten (Beschränkung aus Darstellungsgründen)</span></span>
<span id="cb36-2"><a href="einführung-in-r-1.html#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data[<span class="dv">5</span>, <span class="dv">7</span>])</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   zukunftsperspektive_generation
##                            &lt;dbl&gt;
## 1                              3</code></pre>
<p>Die Funktion <code>read_csv2()</code> erhält dabei zwei Argumente:</p>
<ol style="list-style-type: decimal">
<li><p>Den Pfad zum Datensatz inklusive des Dateinamens und zwar relativ zum aktuellen Arbeitsverzeichnis von R.</p></li>
<li><p>Das Argument <code>na = "99"</code>, weil fehlende Werte im vorliegenden Datensatz mit “99” gekennzeichnet wurden. Dieser Wert wird jetzt zu <code>NA</code> umcodiert.</p></li>
</ol>
<p>Neben diesen Argumenten könnten wir noch weitere übergeben, welche Sie in der Hilfe zur Funktion nachsehen können. Weitere Argumente sind bei diesem Datensatz aber gar nicht nötig.</p>
<p>Der Befehl <code>head()</code> gibt die ersten paar Zeilen des Datensatzes aus. So kann man kontrollieren, ob der Import funktioniert hat.</p>
</div>
<div id="excel-dateien-importieren" class="section level3" number="4.8.2">
<h3><span class="header-section-number">4.8.2</span> Excel-Dateien importieren</h3>
<p>Zum Einlesen einer Excel-Datei benötigen wir ein anderes Paket, es gibt auch hier wieder unterschiedliche Möglichkeiten. Ich habe mich hier für das Paket <code>readxl</code> entschieden, da es ebenfalls aus dem tidyverse stammt und in der Funktionalität an das soeben genutzte <code>readr</code>-Paket angelehnt ist. Die Funktion <code>read_excel()</code> funktioniert dementsprechend genauso wie die Funktion <code>read_csv2()</code>:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="einführung-in-r-1.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Laden des Paketes</span></span>
<span id="cb38-2"><a href="einführung-in-r-1.html#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb38-3"><a href="einführung-in-r-1.html#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="einführung-in-r-1.html#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Einlesen der Daten</span></span>
<span id="cb38-5"><a href="einführung-in-r-1.html#cb38-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;data/ZA6738_v1-0-0_generation_z.xlsx&quot;</span>, <span class="at">na =</span> <span class="st">&quot;99&quot;</span>)</span>
<span id="cb38-6"><a href="einführung-in-r-1.html#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="einführung-in-r-1.html#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Ausgabe der ersten 5 Zeilen und 7 Spalten</span></span>
<span id="cb38-8"><a href="einführung-in-r-1.html#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data[<span class="dv">5</span>, <span class="dv">7</span>])</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   zukunftsperspektive_generation
##                            &lt;dbl&gt;
## 1                              3</code></pre>
</div>
<div id="spss-dateien-importieren" class="section level3" number="4.8.3">
<h3><span class="header-section-number">4.8.3</span> SPSS-Dateien importieren</h3>
<p>Mit CSV und Excel haben wir zwei sehr übliche Datenaustauschformate bereits abgedeckt. Daten können aber natürlich auch in ganz anderen Formaten gespeichert sein. Ein Format, dass in der Kommunikationswissenschaft noch recht häufig vorkommen dürfte, ist das Format mit der Dateiendung .sav aus dem Programm SPSS. Auch für den Import von SAV-Dateien gibt es natürlich verschiedene Möglichkeiten, z.B. das Paket <code>haven</code> un die Funktion <code>read_sav()</code>:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="einführung-in-r-1.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Laden des Paketes</span></span>
<span id="cb40-2"><a href="einführung-in-r-1.html#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven)</span>
<span id="cb40-3"><a href="einführung-in-r-1.html#cb40-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="einführung-in-r-1.html#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Einlesen der Daten</span></span>
<span id="cb40-5"><a href="einführung-in-r-1.html#cb40-5" aria-hidden="true" tabindex="-1"></a>spss_data <span class="ot">&lt;-</span> <span class="fu">read_sav</span>(<span class="st">&quot;data/ZA6738_v1-0-0_generation_z.sav&quot;</span>, <span class="at">user_na =</span> <span class="cn">TRUE</span>)</span>
<span id="cb40-6"><a href="einführung-in-r-1.html#cb40-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-7"><a href="einführung-in-r-1.html#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Ausgabe der ersten 5 Zeilen und 7 Spalten</span></span>
<span id="cb40-8"><a href="einführung-in-r-1.html#cb40-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(spss_data[<span class="dv">5</span>, <span class="dv">7</span>])</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##                F3
##         &lt;dbl+lbl&gt;
## 1 3 [Weniger gut]</code></pre>
<p>Aus SPSS importierte Daten unterscheiden sich etwas von denen aus CSV oder Excel. SPSS bietet die Möglichkeit, Variablen mit Labels zu versehen. Dabei handelt es sich um textliche Beschreibungen der Variablen. Auch die einzelnen Ausprägungen einer Variable können mit Werte-Lables versehen sein (z.B. 1 = “sehr gut,” 2 = “gut,” …). Solche Labels bleiben beim Import in R erhalten, sie stehen bei der Arbeit in R aber weniger im Vordergrund. Mehr zur Arbeit mit gelabelten Daten <a href="einführung-in-r-1.html#work_labelled">hier</a>.</p>
</div>
<div id="daten-exportieren-abspeichern" class="section level3" number="4.8.4">
<h3><span class="header-section-number">4.8.4</span> Daten exportieren (abspeichern)</h3>
<p>In R kann man natürlich nicht nur Daten importieren. Wenn man einen Datensatz erzeugt oder verändert hat, z.B. eine Variable umcodiert oder hinzugefügt hat, kann man dies natürlich auch exportieren bzw. abspeichern. Das geht mit den vorgestellten Paketen als CSV- oder als SPSS-Datei (mit Excel geht es nicht).</p>
<p>Hier das Beispiel für eine CSV-Datei mit dem Befehl <code>write_csv2()</code>:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="einführung-in-r-1.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb42-2"><a href="einführung-in-r-1.html#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="einführung-in-r-1.html#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Erzeugt einen Mini-Beispieldatensatz mit 2 Variablen und 3 Fällen</span></span>
<span id="cb42-4"><a href="einführung-in-r-1.html#cb42-4" aria-hidden="true" tabindex="-1"></a>new_data <span class="ot">&lt;-</span> <span class="fu">new_tibble</span>(<span class="fu">list</span>(<span class="at">var_a =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">var_b =</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>), <span class="at">nrow =</span> <span class="dv">3</span>)</span>
<span id="cb42-5"><a href="einführung-in-r-1.html#cb42-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-6"><a href="einführung-in-r-1.html#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Speichert den Datensatz</span></span>
<span id="cb42-7"><a href="einführung-in-r-1.html#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv2</span>(new_data, <span class="st">&quot;data/example_file.csv&quot;</span>)</span></code></pre></div>
</div>
<div id="work_labelled" class="section level3" number="4.8.5">
<h3><span class="header-section-number">4.8.5</span> Arbeit mit gelabelten Daten</h3>
<p>Hat man fürher mit SPSS gearbeitet und versucht jetzt alte Datensätze nach R zu migrieren, kann man dazu das Paket <code>expss</code> benutzen. Das Paket beinhaltet auch eine Funktion zum Öffnen von SPSS-.sav-Dateien. Allerdings kann man dazu ebensogut die oben gezeigte Funktion aus dem tidyverse-Paket <code>haven</code> verwenden. Möchte man allerdings seine Daten als CSV-File speichern und dabei auch die Informationen über Variablen und Wertelabels erhalten, bittet das Paket <code>expss</code> eine interessante Funktion. Mit <code>write_labelled_csv2()</code> kann man eine CSV-Datei speichern, die vor den eigentlichen Daten zusätzlich auch die Informationen zu den Labels enthält. Eine so abgespeicherte Datei muss man natürlich auch über das <code>expss</code>-Paket einlesen, nämlich mit der Funktion <code>read_labelled_csv()</code>, damit auch nach dem Öffnen die Label-Informationen weiterhin vorhanden sind.</p>
<p>Wenn man mit gelabelten Daten arbeitet, ist außerdem die Funktion <code>view_df()</code> aus dem Paket <code>sjPlot</code> recht nützlich. Darüber kann man sich eine Übersicht über den Datensatz anzeigen lassen, die dann im Viewer-Tab von RStudio angezeigt wird. Man kann über zusätzliche Argumente sogar noch weitere Informationen anziegen lassen, wie z.B. den Anteil an fehlenden Werten.</p>
</div>
</div>
<div id="datenstrukturen" class="section level2" number="4.9">
<h2><span class="header-section-number">4.9</span> Datenstrukturen</h2>
<p>Dieser Abschnitt beschäftigt sich mit den grundsätzlichen Datenstrukturen in R. Dabei fangen wir bei der größten Struktur (dem Datensatz oder auch Dataframe) an und arbeiten uns bis zur kleinsten, dem “atomic vector type” vor. Wir werden uns auch damit beschäftigen, wie man zwischen verschiedenen Formaten konvertieren kann und auf fehlende Werte eingehen. Im Anschluss gibt es noch ein paar “Spezial”-Formate, nämlich Faktoren und Listen.</p>
<div id="dataframes" class="section level3" number="4.9.1">
<h3><span class="header-section-number">4.9.1</span> Dataframes</h3>
<p>Wenn man einen Datensatz in R importiert, wie im letzten Kapitel besprochen, liegt dieser als Objekt vor. Wir haben das Datenobjekt im letzten Kapitel <code>data</code> genannt.</p>
<p>Hier noch mal der Code zum Einlesen der Daten:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="einführung-in-r-1.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Laden des Paketes</span></span>
<span id="cb43-2"><a href="einführung-in-r-1.html#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb43-3"><a href="einführung-in-r-1.html#cb43-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-4"><a href="einführung-in-r-1.html#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Einlesen der Daten</span></span>
<span id="cb43-5"><a href="einführung-in-r-1.html#cb43-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="st">&quot;data/ZA6738_v1-0-0_generation_z.csv&quot;</span>, <span class="at">na =</span> <span class="st">&quot;99&quot;</span>)</span></code></pre></div>
<p>Nach dem Import finden Sie das <code>data</code>-Objekt im Environment-Tab von RStudio. Sie können darauf doppelklicken, dann wird Ihnen die Datentabelle angezeigt und Sie können durch die Daten scrollen.</p>
<p>Es gibt aber noch andere Möglichkeiten, etwas mehr über den Datensatz zu erfahren. Hier kommen ein paar nützliche Funktionen:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="einführung-in-r-1.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Anzeigen der ersten 10 Variablen-Namen (Beschränkung aus Darstellungsgründen)</span></span>
<span id="cb44-2"><a href="einführung-in-r-1.html#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(data)[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>##  [1] &quot;za_nr&quot;                           &quot;version&quot;                        
##  [3] &quot;doi&quot;                             &quot;lfdn&quot;                           
##  [5] &quot;zufriedenheit_leben&quot;             &quot;zukunftsperspektive_persoenlich&quot;
##  [7] &quot;zukunftsperspektive_generation&quot;  &quot;eltern_verhaeltnis&quot;             
##  [9] &quot;eltern_unterstuetzung&quot;           &quot;eltern_ratgeber&quot;</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="einführung-in-r-1.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Wieviele Spalten (Variablen) hat der Datensatz?</span></span>
<span id="cb46-2"><a href="einführung-in-r-1.html#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(data)</span></code></pre></div>
<pre><code>## [1] 194</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="einführung-in-r-1.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Wieviele Zeilen (Fälle) hat der Datensatz?</span></span>
<span id="cb48-2"><a href="einführung-in-r-1.html#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(data)</span></code></pre></div>
<pre><code>## [1] 1006</code></pre>
<p>Mit der <code>class()</code> Funktion kann man sich die Klasse eines Objekts anzeigen lassen.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="einführung-in-r-1.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Klasse ausgeben</span></span>
<span id="cb50-2"><a href="einführung-in-r-1.html#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(data)</span></code></pre></div>
<pre><code>## [1] &quot;spec_tbl_df&quot; &quot;tbl_df&quot;      &quot;tbl&quot;         &quot;data.frame&quot;</code></pre>
<p>Unser Datensatz gehört gleich zu mehreren Klassen. Wenig überraschend ist er ein <code>data.frame</code> (Dataframe). Das ist die Klasse, in der in R Datensätze abgespeichert werden. Der Datensatz gehört aber noch weiteren Klassen an. Unter anderem der Klasse <code>tbl_df</code>, die auch <em>tibble</em> heißt. Es handelt sich dabei um eine spezielle Version eines R-Dataframes aus dem tidyverse. Tibbles unterscheiden sich leicht von dem normalen Dataframes in R. Um Fehler beim Datenmanagement zu vermeiden, gibt ein Tibble z.B. viel schneller Fehlermeldungen aus und er hat bewusst weniger Funktionen als der herkömmliche Dataframe von base-R. Unser Datensatz ist ein Tibble, weil wir ihn über ein Paket, das ebenfalls zum tidyverse gehört, geladen haben.</p>
</div>
<div id="aufbau-von-dataframes" class="section level3" number="4.9.2">
<h3><span class="header-section-number">4.9.2</span> Aufbau von Dataframes</h3>
<p>Ein Dataframe in R hat auf den ersten Blick Ähnlichkeiten zu einer Datentabelle in Excel und tatsächlich kann man eine Excel- oder CSV-Datei einfach nach R importieren. Es gibt jedoch einige Unterschiede und um zu verstehen, wie R diese Daten behandelt, ist es wichtig zu wissen, wie die Daten in Dataframe-Objekten organisiert sind:</p>
<ul>
<li>Ein Dataframe in R besteht aus Variablen. Die Variablen werden in der Datenansicht als Spalten dargestellt.</li>
<li>Die Variablen sind in R “Vektoren” (<em>vector</em>). Ein Vektor ist eine Liste von Elementen, die alle den gleichen Typ haben. Z.B. sind alle Elemente eines Vektors Zahlen <strong>oder</strong> Texte. Einen Vektor, in dem Zahlen <strong>und</strong> Texte gemeinsam vorkommen, kann es nicht geben.</li>
<li>Die Vektoren sind alle gleich lang und sie sind gleich sortiert.</li>
<li>Jeder Vektor hat einen eigenen Namen.</li>
</ul>
<p>Die folgende Abbildung veranschaulicht die Struktur:
<img src="images/dataframe_with_vector.png" alt="Dataframe-Struktur" style="float:left;margin-right:350px;margin-bottom:25px;margin-top:10px"></p>
<p>Im folgenden Skript wird ein kleiner Beispieldatensatz erstellt. Mit der Funtion <code>c()</code> (für <em>c</em>ombine) werden zunächst 4 Vektoren mit unterschiedlichen Datentypen erstellt. Es ist dabei genau darauf zu achten, dass alle Vektoren gleich lang und alle Daten jeweils in der richtigen Reihenfolge sind.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="einführung-in-r-1.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 4 Vektoren gleicher Länge definieren</span></span>
<span id="cb52-2"><a href="einführung-in-r-1.html#cb52-2" aria-hidden="true" tabindex="-1"></a>title        <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;The Mandalorian&quot;</span>, <span class="st">&quot;The Good Fight&quot;</span>, <span class="st">&quot;Stranger Things&quot;</span>, </span>
<span id="cb52-3"><a href="einführung-in-r-1.html#cb52-3" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;How To Sell Drugs Online (Fast)&quot;</span>, <span class="st">&quot;Game of Thrones&quot;</span>,</span>
<span id="cb52-4"><a href="einführung-in-r-1.html#cb52-4" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;Westworld&quot;</span>, <span class="st">&quot;Bad Banks&quot;</span>, <span class="st">&quot;The Handmaid&#39;s Tale&quot;</span>)</span>
<span id="cb52-5"><a href="einführung-in-r-1.html#cb52-5" aria-hidden="true" tabindex="-1"></a>year         <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2019</span>, <span class="dv">2017</span>, <span class="dv">2016</span>, <span class="dv">2019</span>, <span class="dv">2011</span>, <span class="dv">2017</span>, <span class="dv">2018</span>, <span class="dv">2017</span>)</span>
<span id="cb52-6"><a href="einführung-in-r-1.html#cb52-6" aria-hidden="true" tabindex="-1"></a>imdb_rating  <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">8.7</span>, <span class="fl">8.3</span>, <span class="fl">8.8</span>, <span class="fl">7.9</span>, <span class="fl">9.3</span>, <span class="fl">8.7</span>, <span class="fl">8.0</span>, <span class="fl">8.5</span>)</span>
<span id="cb52-7"><a href="einführung-in-r-1.html#cb52-7" aria-hidden="true" tabindex="-1"></a>on_netflix   <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb52-8"><a href="einführung-in-r-1.html#cb52-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-9"><a href="einführung-in-r-1.html#cb52-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Vektoren in einem neuen Tibble zusammenfügen</span></span>
<span id="cb52-10"><a href="einführung-in-r-1.html#cb52-10" aria-hidden="true" tabindex="-1"></a>series_data <span class="ot">&lt;-</span> <span class="fu">new_tibble</span>(<span class="fu">list</span>(<span class="at">title =</span> title, </span>
<span id="cb52-11"><a href="einführung-in-r-1.html#cb52-11" aria-hidden="true" tabindex="-1"></a>                          <span class="at">year =</span> year, </span>
<span id="cb52-12"><a href="einführung-in-r-1.html#cb52-12" aria-hidden="true" tabindex="-1"></a>                          <span class="at">imdb_rating =</span> imdb_rating, </span>
<span id="cb52-13"><a href="einführung-in-r-1.html#cb52-13" aria-hidden="true" tabindex="-1"></a>                          <span class="at">on_netflix =</span> on_netflix),</span>
<span id="cb52-14"><a href="einführung-in-r-1.html#cb52-14" aria-hidden="true" tabindex="-1"></a>                          <span class="at">nrow =</span> <span class="dv">8</span>) </span>
<span id="cb52-15"><a href="einführung-in-r-1.html#cb52-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-16"><a href="einführung-in-r-1.html#cb52-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Tibble anzeigen</span></span>
<span id="cb52-17"><a href="einführung-in-r-1.html#cb52-17" aria-hidden="true" tabindex="-1"></a>series_data</span></code></pre></div>
<pre><code>## # A tibble: 8 x 4
##   title                            year imdb_rating on_netflix
##   &lt;chr&gt;                           &lt;dbl&gt;       &lt;dbl&gt; &lt;lgl&gt;     
## 1 The Mandalorian                  2019         8.7 FALSE     
## 2 The Good Fight                   2017         8.3 FALSE     
## 3 Stranger Things                  2016         8.8 TRUE      
## 4 How To Sell Drugs Online (Fast)  2019         7.9 TRUE      
## 5 Game of Thrones                  2011         9.3 FALSE     
## 6 Westworld                        2017         8.7 FALSE     
## 7 Bad Banks                        2018         8   TRUE      
## 8 The Handmaid&#39;s Tale              2017         8.5 FALSE</code></pre>
<p>Mit der Function <code>str()</code> (für <em>str</em>ucture) kann man sich Strukturinformationen über den Datensatz anzeigen lassen. Die Funktion listet oben die Dimensionen des Datensatzes (Fallzahl x Variablenzahl) und die Klasse auf und dann folgt für jede Variable der Typ (z.B. <code>num</code>oder <code>chr</code>), dann folgt die Länge des Vektors (z.B. <code>[1:52]</code>) und zuletzt werden die ersten (bis zu zehn) Elemente des Vektors ausgegeben. So erhält man einen guten ersten Einblick in die Daten.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="einführung-in-r-1.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Informationen über die Vektoren im Datensatz anzeigen</span></span>
<span id="cb54-2"><a href="einführung-in-r-1.html#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(series_data)</span></code></pre></div>
<pre><code>## tibble [8 × 4] (S3: tbl_df/tbl/data.frame)
##  $ title      : chr [1:8] &quot;The Mandalorian&quot; &quot;The Good Fight&quot; &quot;Stranger Things&quot; &quot;How To Sell Drugs Online (Fast)&quot; ...
##  $ year       : num [1:8] 2019 2017 2016 2019 2011 ...
##  $ imdb_rating: num [1:8] 8,7 8,3 8,8 7,9 9,3 8,7 8 8,5
##  $ on_netflix : logi [1:8] FALSE FALSE TRUE TRUE FALSE FALSE ...</code></pre>
<p>Man kann die einzelnen Variablen/Vektoren auch über ihren Namen ansprechen, dazu benutzt man die folgende Syntax: <code>data$var_name</code></p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="einführung-in-r-1.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Beispiel: Einen einzelnen Vektor ausgeben</span></span>
<span id="cb56-2"><a href="einführung-in-r-1.html#cb56-2" aria-hidden="true" tabindex="-1"></a>series_data<span class="sc">$</span>title</span></code></pre></div>
<pre><code>## [1] &quot;The Mandalorian&quot;                 &quot;The Good Fight&quot;                 
## [3] &quot;Stranger Things&quot;                 &quot;How To Sell Drugs Online (Fast)&quot;
## [5] &quot;Game of Thrones&quot;                 &quot;Westworld&quot;                      
## [7] &quot;Bad Banks&quot;                       &quot;The Handmaid&#39;s Tale&quot;</code></pre>
<p>Über die Ordnungszahl kann man auch auf die einzelnen Elemente innerhalb des Vektors zugreifen:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="einführung-in-r-1.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Beispiel: Das dritte Element eines Vektors ausgeben</span></span>
<span id="cb58-2"><a href="einführung-in-r-1.html#cb58-2" aria-hidden="true" tabindex="-1"></a>series_data<span class="sc">$</span>title[<span class="dv">3</span>]</span></code></pre></div>
<pre><code>## [1] &quot;Stranger Things&quot;</code></pre>
<p>Man kann auch auf mehrere Elemente zugreifen. Dazu verwendet man den Doppelpunkt <code>:</code>:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="einführung-in-r-1.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Beispiel: Das dritte bis fünfte Element eines Vektors ausgeben</span></span>
<span id="cb60-2"><a href="einführung-in-r-1.html#cb60-2" aria-hidden="true" tabindex="-1"></a>series_data<span class="sc">$</span>title[<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>]</span></code></pre></div>
<pre><code>## [1] &quot;Stranger Things&quot;                 &quot;How To Sell Drugs Online (Fast)&quot;
## [3] &quot;Game of Thrones&quot;</code></pre>
<p>Auch bei Dataframes/Tibbles kann man mit Indices arbeiten, z.B. wenn man den Variablennamen nicht kennt, aber weiß, dass es sich um die erste Variabele handelt. Die Syntax lautet dann wie folgt: [[Zeile, Spalte]]</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="einführung-in-r-1.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Beispiel: Das dritte Element des ersten Vektors in einem Dataframe ausgeben.</span></span>
<span id="cb62-2"><a href="einführung-in-r-1.html#cb62-2" aria-hidden="true" tabindex="-1"></a>series_data[[<span class="dv">3</span>, <span class="dv">1</span>]]</span></code></pre></div>
<pre><code>## [1] &quot;Stranger Things&quot;</code></pre>
<p>Die doppelten eckigen Klammern <code>[[]]</code> dienen hier dazu, dass tatsächlich nur das Element und nicht ein Tibble zurückgegeben wird, der dieses eine Element enthält. Also: Nutzt man <code>[[]]</code> ist das zurückgegebene Element einfach ein Objekt mit dem Wert. Nutzt man hingegen <code>[]</code> ist das zurückgegebene Element ein Dataframe/Tibble mit nur einer einzigen Zelle, die das Objekt mit dem Wert enthält. Im letzteren Fall ist der Wert quasi in einem Dataframe eingepackt. Der Unterschied ist klein aber fein und eine beliebte Fehlerquelle. An dieser Stelle ist der Unterschied jedoch nicht bedeutend.</p>
</div>
<div id="atomic_vector_types" class="section level3" number="4.9.3">
<h3><span class="header-section-number">4.9.3</span> Atomare Datentypen</h3>
<p>Nun wissen wir schon, woraus Dataframes bestehen, nämlich aus Vektoren. Aber woraus bestehen Vektoren? Aus gleichartigen Elementen, die offenbar unterschiedliche Typen haben können. Auf unterster Ebene unterscheidet R sechs dieser Typen, so genannte <em>atomic vector types</em>. Sie heißen:</p>
<table>
<thead>
<tr class="header">
<th>Atomic Vector Type</th>
<th>Beschreibung</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>integer</td>
<td>ganze Zahlen</td>
</tr>
<tr class="even">
<td>double</td>
<td>Fließkommazahlen</td>
</tr>
<tr class="odd">
<td>character</td>
<td>Textvariablen</td>
</tr>
<tr class="even">
<td>logical</td>
<td>logische Ausdrücke, entweder <code>TRUE</code> oder <code>FALSE</code></td>
</tr>
<tr class="odd">
<td>complex</td>
<td>komplexe Zahlen</td>
</tr>
<tr class="even">
<td>raw</td>
<td>“rohe” Bites z.B. einer Datei</td>
</tr>
</tbody>
</table>
<p>Die Wichtigsten werden im Folgenden erläutert (das sind die ersten vier).</p>
<div id="numerische-werte" class="section level4" number="4.9.3.1">
<h4><span class="header-section-number">4.9.3.1</span> Numerische Werte</h4>
<p>Die Typen <code>integer</code> und <code>double</code> werden zusammengefasst auch als numerische Werte (<code>numeric</code>) bezeichnet. Mit <code>typeof()</code>kann man sich den Typ eines Vektors bzw. eines jeden Objekts ausgeben lassen. Probieren wir das mal aus:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="einführung-in-r-1.html#cb64-1" aria-hidden="true" tabindex="-1"></a>my_numeric <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">5</span>)</span>
<span id="cb64-2"><a href="einführung-in-r-1.html#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(my_numeric)</span></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<p>Das ist jetzt ein wenig überraschend, schließlich sind 1, 3 und 5 ja ganze Zahlen! Allerdings kommen Fließkommazahlen so häufig vor, das R Zahlen im Speicher standardmäßig als <code>double</code> verwaltet und abspeichert.<br />
Wenn man in R den Typ <code>integer</code> zuweisen will, muss man dies explizit tun: Entweder, indem man bei der Zuweisung ein <code>L</code> hinter die Zahl schreibt, oder indem man den Wert durch die Funktion <code>as.integer()</code> in ein integer konvertiert:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="einführung-in-r-1.html#cb66-1" aria-hidden="true" tabindex="-1"></a>my_integer <span class="ot">&lt;-</span> 3L</span>
<span id="cb66-2"><a href="einführung-in-r-1.html#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(my_integer)</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="einführung-in-r-1.html#cb68-1" aria-hidden="true" tabindex="-1"></a>my_integer <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(<span class="dv">3</span>)</span>
<span id="cb68-2"><a href="einführung-in-r-1.html#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(my_integer)</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<p>Das Dezimaltrennzeichen ist in R übrigens standardmäßig ein Punkt und kein Komma. Klar, die ganze Programmiersprache basiert ja auf dem Englischen.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="einführung-in-r-1.html#cb70-1" aria-hidden="true" tabindex="-1"></a>my_double <span class="ot">&lt;-</span> <span class="fl">3.14</span></span>
<span id="cb70-2"><a href="einführung-in-r-1.html#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(my_double)</span></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
</div>
<div id="text" class="section level4" number="4.9.3.2">
<h4><span class="header-section-number">4.9.3.2</span> Text</h4>
<p>Der nächste Typ ist <code>character</code> und wird auch manchmal als “string” bezeichnet. Hiermit sind alle Objekte gemeint, die aus Text bestehen. Wenn man so ein Objekt zuweisen möchte, muss man den Text in Anführungszeichen schreiben, damit R weiß, dass es sich hier nicht um Programmcode, sondern um den Inhalt eines character-Objektes handelt. Man kann dabei entweder doppelte <code>"</code> oder einfache <code>'</code> Anführungszeichen verwenden (aber nicht mixen!).</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="einführung-in-r-1.html#cb72-1" aria-hidden="true" tabindex="-1"></a>my_string <span class="ot">&lt;-</span> <span class="st">&quot;Hallo Welt!&quot;</span></span>
<span id="cb72-2"><a href="einführung-in-r-1.html#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(my_string)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
</div>
<div id="logical" class="section level4" number="4.9.3.3">
<h4><span class="header-section-number">4.9.3.3</span> Logical</h4>
<p>Der letzte für uns interessante Typ heißt <code>logical</code> und wird manchmal auch boolean genannt. Es handelt sich dabei um logische Werte, die entweder <code>TRUE</code> oder <code>FALSE</code> sein können.</p>
<p>Es gibt verschiedene “relationale Operatoren” mit denen man testen kann, ob eine Bedingung entweder wahr oder falsch ist, z.B. <code>1 == 3</code> (1 ist gleich drei) ist <code>FALSE</code>. Das Ergebnis eines solchen Tests kann mann natürlich auch in einem Objekt speichern – das wäre dann ein Objekt vom Typ logical.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="einführung-in-r-1.html#cb74-1" aria-hidden="true" tabindex="-1"></a>my_logical <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">==</span> <span class="dv">2</span></span>
<span id="cb74-2"><a href="einführung-in-r-1.html#cb74-2" aria-hidden="true" tabindex="-1"></a>my_logical</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Hier ist eine Übersicht über die relationalen Operatoren:</p>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Bedeutung</th>
<th>Beispiel <code>TRUE</code></th>
<th>Beispiel <code>FALSE</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>==</td>
<td>ist gleich</td>
<td><code>1 == 1</code></td>
<td><code>1 == 2</code></td>
</tr>
<tr class="even">
<td>!=</td>
<td>ist ungleich</td>
<td><code>1 != 2</code></td>
<td><code>1 != 1</code></td>
</tr>
<tr class="odd">
<td>&lt;</td>
<td>ist kleiner</td>
<td><code>1 &lt; 2</code></td>
<td><code>1 &gt; 2</code></td>
</tr>
<tr class="even">
<td>&lt;=</td>
<td>ist kleiner oder gleich</td>
<td><code>1 &lt;= 2</code></td>
<td><code>2 &lt;= 1</code></td>
</tr>
<tr class="odd">
<td>&gt;</td>
<td>ist größer</td>
<td><code>2 &gt; 1</code></td>
<td><code>1 &gt; 2</code></td>
</tr>
<tr class="even">
<td>&gt;=</td>
<td>ist größer oder gleich</td>
<td><code>1 &gt;= 1</code></td>
<td><code>1 &gt;= 2</code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="fehlende-werte" class="section level3" number="4.9.4">
<h3><span class="header-section-number">4.9.4</span> Fehlende Werte</h3>
<p>Objekte können auch leer sein, also keinen Wert haben. Es gibt in R unterschiedliche Arten solcher “Missing Values.” <code>NA</code> für “not available” ist davon der Gebräuchlichste. Natürlich kann man einem Objekt auch einen fehlenden Wert zuweisen. Mit der Funktion <code>is.na()</code> kann man prüfen, ob ein Wert fehlend ist. Sie gibt <code>TRUE</code> zurück, wenn dies der Fall ist und <code>FALSE</code>, wenn das Objekt doch einen Wert hat.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="einführung-in-r-1.html#cb76-1" aria-hidden="true" tabindex="-1"></a>my_na <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb76-2"><a href="einführung-in-r-1.html#cb76-2" aria-hidden="true" tabindex="-1"></a>my_na</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="einführung-in-r-1.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(my_na)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>In SPSS ist es üblich, verschiedenen Arten von fehlenden Werten die Werte <code>98</code>, <code>99</code>, <code>-99</code> oder ähnlich zuzuweisen. Mit diesen Werten kann R von Haus aus nichts anfangen. Man muss R beim Import der Daten mitteilen, welche Werte als fehlend gelten sollen. - In SPSS würde man diese ja auch über die Oberfläche als fehlend definieren. Auch der Wert <code>""</code> ist nicht per se ein fehlender Wert (sondern ein einfach ein leeres Character-Objekt).</p>
</div>
<div id="objekttypen-konvertieren" class="section level3" number="4.9.5">
<h3><span class="header-section-number">4.9.5</span> Objekttypen konvertieren</h3>
<p>Manchmal muss man zwischen den verschiedenen Objekttypen hin und her konvertieren, z.B. weil ein Objekt im falschen Datenformat abgespeichert wurde. Beispielweise kann R die Addition <code>1 + "2"</code> nicht durchführen, weil der Wert <code>"2"</code> hier als Text eingegeben wurde und mit Texten kann man nun mal nicht rechnen. Es gibt aber Funktionen, mit denen man zwischen den einzelnen Typen hin und her konvertieren kann, z.B. die oben schon vorgestellte Funktion <code>as.integer()</code>.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="einführung-in-r-1.html#cb80-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;2&quot;</span></span>
<span id="cb80-2"><a href="einführung-in-r-1.html#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="fu">as.integer</span>(x)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>Analog dazu gibt es auch die Funktionen <code>as.numeric()</code>, <code>as.double()</code>, <code>as.character()</code> und <code>as.logical()</code>. Das funktioniert aber natürlich nur, wenn der Inhalt, der der Funktion übergeben, wird auch tatsächlich sinnvoll umgewandelt werden kann. Folgendes wird kaum funktionieren: <code>as.numeric("Text Text Text")</code>.</p>
<p>Bei der Konvertierung zwischen numerischen und logischen Werten wird die <code>0</code> übrigens als <code>FALSE</code> interpretiert und alle anderen Werte (auch negative) als <code>TRUE</code>. Das kann z.B. bei dichotomen 0/1-codierten Variablen sehr nützlich sein.</p>
</div>
<div id="faktoren" class="section level3" number="4.9.6">
<h3><span class="header-section-number">4.9.6</span> Faktoren</h3>
<p>Es gibt noch eine spezielle Form von Variablen, die nicht zu den atomic vectors types gehört, aber dennoch sehr gebräuchlich ist. Es handelt sich um numerische Variablen, bei denen den Zahlenwerten Labels zugeordnet werden. Sie heißen in R Faktoren (<em>factor</em>). Ein Beispiel wäre eine Variable, die eine Skala repräsentiert, z.B. von 1 = “stimme überhaupt nicht zu” bis 5 = “stimme voll und ganz zu.”</p>
<p>Der Vorteil des Faktors ist, dass man die Wertelabels direkt im Dataframe speichert und nicht in einem Codebuch oder im Fragebogen nachsehen muss, wenn man sie nicht auswendig gelernt hat. Auch bei der Erstellung von Grafiken und Berichten kann das hilfreich sein.</p>
<p>Mit der Funktion <code>factor()</code>kann man einen Zahlen-Vektor in einen gelabelten Faktor umwandeln. Die Funktion benötigt dazu folgende Argumente:</p>
<ol style="list-style-type: decimal">
<li><p>Den Zahlenvektor der umgewandelt werden soll.</p></li>
<li><p>Eine Angabe darüber, welche Levels (= mögliche Ausprägungen) der Faktor haben soll.</p></li>
<li><p>Die zu den Levels gehörigen Werte-Labels (Benennung der Ausprägungen), in der gleichen Reihenfolge</p></li>
<li><p>Optional: Angabe, ob R die Levels als geordnet behandeln soll oder nicht. Diese Angabe bezieht sich auf das Datenniveau: Ordinale und quasi-metrische Variablen haben eine Ordnung (<code>ordered = TRUE</code>), nominale nicht (<code>ordered = FALSE</code>).</p></li>
</ol>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="einführung-in-r-1.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># einen Vektor mit Zahlen anlegen</span></span>
<span id="cb82-2"><a href="einführung-in-r-1.html#cb82-2" aria-hidden="true" tabindex="-1"></a>vec_of_numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">1</span>)</span>
<span id="cb82-3"><a href="einführung-in-r-1.html#cb82-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-4"><a href="einführung-in-r-1.html#cb82-4" aria-hidden="true" tabindex="-1"></a><span class="co"># den Vektor in einen Faktor konvertieren, die Levels festlegen und Labels zuweisen</span></span>
<span id="cb82-5"><a href="einführung-in-r-1.html#cb82-5" aria-hidden="true" tabindex="-1"></a>my_factor <span class="ot">&lt;-</span> <span class="fu">factor</span>(vec_of_numbers, </span>
<span id="cb82-6"><a href="einführung-in-r-1.html#cb82-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">levels=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>),</span>
<span id="cb82-7"><a href="einführung-in-r-1.html#cb82-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">labels=</span><span class="fu">c</span>(<span class="st">&quot;stimme überhaupt nicht zu&quot;</span>, </span>
<span id="cb82-8"><a href="einführung-in-r-1.html#cb82-8" aria-hidden="true" tabindex="-1"></a>                      <span class="st">&quot;stimme nicht zu&quot;</span>, </span>
<span id="cb82-9"><a href="einführung-in-r-1.html#cb82-9" aria-hidden="true" tabindex="-1"></a>                      <span class="st">&quot;teils/teils&quot;</span>, </span>
<span id="cb82-10"><a href="einführung-in-r-1.html#cb82-10" aria-hidden="true" tabindex="-1"></a>                      <span class="st">&quot;stimme zu&quot;</span>, </span>
<span id="cb82-11"><a href="einführung-in-r-1.html#cb82-11" aria-hidden="true" tabindex="-1"></a>                      <span class="st">&quot;stimme voll und ganz zu&quot;</span>),</span>
<span id="cb82-12"><a href="einführung-in-r-1.html#cb82-12" aria-hidden="true" tabindex="-1"></a>              <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span>
<span id="cb82-13"><a href="einführung-in-r-1.html#cb82-13" aria-hidden="true" tabindex="-1"></a>                      </span>
<span id="cb82-14"><a href="einführung-in-r-1.html#cb82-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Faktor ansehen:</span></span>
<span id="cb82-15"><a href="einführung-in-r-1.html#cb82-15" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(my_factor)</span></code></pre></div>
<pre><code>##  Ord.factor w/ 5 levels &quot;stimme überhaupt nicht zu&quot;&lt;..: 2 4 2 1 1 5 4 5 5 3 ...</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="einführung-in-r-1.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(my_factor)</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<p>Wie im Beispiel zu sehen, weiß R nun, dass es sich um einen geordneten Faktor mit 5 Stufen handelt. Der atomic vector type ist aber nicht character, sondern bleibt integer.</p>
</div>
<div id="listen" class="section level3" number="4.9.7">
<h3><span class="header-section-number">4.9.7</span> Listen</h3>
<p>Zum Abschluss muss hier noch ein weiterer Objekttyp erwähnt werden: Die Liste (<em>list</em>). Oben wurde ja ziemlich darauf herumgeritten, dass ein Vektor immer nur <em>einen</em> Datentyp haben kann. Aber natürlich sind auch Datenformate denkbar, bei denen das nicht so ist. Beispielsweise könnten unsere Daten ja in einem zeilenweisen Format vorliegen, etwa so:</p>
<p><code>1;Apel;Susanne;NA;1.68;56...</code><br />
<code>2;Becker;Fritz;67;1.82;89...</code><br />
<code>3;Coşkun;Ediz;24;1.70,71..</code><br /></p>
<p>Diese zeilenweise Struktur, kann R natürlich auch abbilden und zwar als Liste:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="einführung-in-r-1.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># eine Liste anlegen</span></span>
<span id="cb86-2"><a href="einführung-in-r-1.html#cb86-2" aria-hidden="true" tabindex="-1"></a>person_1 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span>, <span class="st">&quot;Apel&quot;</span>, <span class="st">&quot;Susanne&quot;</span>, <span class="cn">NA</span>, <span class="fl">1.68</span>, <span class="dv">56</span>)</span>
<span id="cb86-3"><a href="einführung-in-r-1.html#cb86-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-4"><a href="einführung-in-r-1.html#cb86-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Liste ausgeben</span></span>
<span id="cb86-5"><a href="einführung-in-r-1.html#cb86-5" aria-hidden="true" tabindex="-1"></a>person_1</span></code></pre></div>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1] &quot;Apel&quot;
## 
## [[3]]
## [1] &quot;Susanne&quot;
## 
## [[4]]
## [1] NA
## 
## [[5]]
## [1] 1,68
## 
## [[6]]
## [1] 56</code></pre>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="einführung-in-r-1.html#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Welchen Typ hat die Liste?</span></span>
<span id="cb88-2"><a href="einführung-in-r-1.html#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(person_1)</span></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="einführung-in-r-1.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Welchen Typ haben einzelne Elemente der Liste?</span></span>
<span id="cb90-2"><a href="einführung-in-r-1.html#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(person_1[[<span class="dv">2</span>]])</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="einführung-in-r-1.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(person_1[[<span class="dv">5</span>]])</span></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<p>Genau wie bei einem Datensatz kann man die Elemente einer Liste auch benennen (das nennt man <em>named list</em>):</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="einführung-in-r-1.html#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># eine Liste anlegen</span></span>
<span id="cb94-2"><a href="einführung-in-r-1.html#cb94-2" aria-hidden="true" tabindex="-1"></a>person_1 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">id =</span> <span class="dv">1</span>, <span class="at">last_name =</span> <span class="st">&quot;Apel&quot;</span>, <span class="at">first_name =</span> <span class="st">&quot;Susanne&quot;</span>, <span class="at">age =</span> <span class="cn">NA</span>, <span class="at">height =</span> <span class="fl">1.68</span>, <span class="at">weight =</span> <span class="dv">56</span>)</span>
<span id="cb94-3"><a href="einführung-in-r-1.html#cb94-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-4"><a href="einführung-in-r-1.html#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Liste ausgeben</span></span>
<span id="cb94-5"><a href="einführung-in-r-1.html#cb94-5" aria-hidden="true" tabindex="-1"></a>person_1</span></code></pre></div>
<pre><code>## $id
## [1] 1
## 
## $last_name
## [1] &quot;Apel&quot;
## 
## $first_name
## [1] &quot;Susanne&quot;
## 
## $age
## [1] NA
## 
## $height
## [1] 1,68
## 
## $weight
## [1] 56</code></pre>
<p>Natürlich kann man auch mehrere Listen zu einem Dataframe kombinieren. Das geht z.B. mit der Funktion <code>rbind()</code>(für <em>row bind</em>).</p>
</div>
</div>
<div id="wichtige-funktionen-aus-diesem-kapitel" class="section level2 unnumbered">
<h2>Wichtige Funktionen aus diesem Kapitel</h2>
<table>
<thead>
<tr class="header">
<th>Funktion</th>
<th>Paket</th>
<th>Beschreibung</th>
<th>Wichtige Argumente</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Grundsätzliches</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>+</code>, <code>-</code>, <code>*</code>,<code>/</code>, <code>^</code></td>
<td>base</td>
<td>einfache Rechenoperationen</td>
<td></td>
</tr>
<tr class="odd">
<td><code>&lt;-</code></td>
<td>base</td>
<td>einem Objekt einen Wert zuweisen</td>
<td></td>
</tr>
<tr class="even">
<td><code>$</code></td>
<td>base</td>
<td>Über den Namen auf ein Element zugreifen</td>
<td>z.B. <code>df$var</code></td>
</tr>
<tr class="odd">
<td><code>[]</code>, <code>[[]]</code></td>
<td>base</td>
<td>Über den Index auf ein Element zugreifen</td>
<td>z.B. <code>[1, 4]</code></td>
</tr>
<tr class="even">
<td><code>#</code></td>
<td>base</td>
<td>Kommentare schreiben</td>
<td></td>
</tr>
<tr class="odd">
<td><code>?</code>, <code>help()</code></td>
<td>base</td>
<td>Hilfe aufrufen</td>
<td></td>
</tr>
<tr class="even">
<td><code>vignette()</code></td>
<td>base</td>
<td>Vignette aufrufen</td>
<td></td>
</tr>
<tr class="odd">
<td><code>getwd()</code></td>
<td>base</td>
<td>Arbeitsverzeichnis ausgeben</td>
<td></td>
</tr>
<tr class="even">
<td><code>setwd()</code></td>
<td>base</td>
<td>Arbeitsverzeichnis setzen</td>
<td></td>
</tr>
<tr class="odd">
<td><strong>Pakete</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>install.packages()</code></td>
<td>base</td>
<td>Pakete installieren</td>
<td></td>
</tr>
<tr class="odd">
<td><code>library()</code></td>
<td>base</td>
<td>Pakete laden</td>
<td></td>
</tr>
<tr class="even">
<td><strong>Funktionen</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>function()</code></td>
<td>base</td>
<td>Funktionen schreiben</td>
<td></td>
</tr>
<tr class="even">
<td><strong>Daten importieren</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>read_csv2()</code></td>
<td>tidyverse</td>
<td>Deutsche CSV-Dateien laden</td>
<td>Pfad, na</td>
</tr>
<tr class="even">
<td><code>write_csv2()</code></td>
<td>tidyverse</td>
<td>Deutsche CSV-Dateien speichern</td>
<td>Datenobjekt, Pfad</td>
</tr>
<tr class="odd">
<td><code>read_csv()</code></td>
<td>tidyverse</td>
<td>Englische CSV-Dateien laden</td>
<td>Pfad, na</td>
</tr>
<tr class="even">
<td><code>write_csv()</code></td>
<td>tidyverse</td>
<td>Englische CSV-Dateien speichern</td>
<td>Datenobjekt, Pfad</td>
</tr>
<tr class="odd">
<td><code>read_excel()</code></td>
<td>readxl</td>
<td>Excel-Dateien laden</td>
<td>Pfad, na</td>
</tr>
<tr class="even">
<td><code>read_sav()</code></td>
<td>haven</td>
<td>SPSS-Dateien laden</td>
<td>Pfad, na</td>
</tr>
<tr class="odd">
<td><code>write_sav()</code></td>
<td>haven</td>
<td>SPSS-Dateien speichern</td>
<td>Datenobjekt, Pfad</td>
</tr>
<tr class="even">
<td><strong>Daten erkunden</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>head()</code></td>
<td>utils</td>
<td>Kopf eines Dataframes ausgeben</td>
<td></td>
</tr>
<tr class="even">
<td><code>names()</code></td>
<td>base</td>
<td>Namen untergeordneter Objekte</td>
<td></td>
</tr>
<tr class="odd">
<td><code>ncol()</code></td>
<td>base</td>
<td>Anzahl der Spalten</td>
<td></td>
</tr>
<tr class="even">
<td><code>nrow()</code></td>
<td>base</td>
<td>Anzahl der Zeilen</td>
<td></td>
</tr>
<tr class="odd">
<td><code>class()</code></td>
<td>base</td>
<td>Klasse eines Objekts</td>
<td></td>
</tr>
<tr class="even">
<td><code>typeof()</code></td>
<td>base</td>
<td>Typ eines Objekts</td>
<td></td>
</tr>
<tr class="odd">
<td><strong>Sonstiges</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>c()</code></td>
<td>base</td>
<td>Argumente kombinieren</td>
<td></td>
</tr>
<tr class="odd">
<td><code>new_tibble()</code></td>
<td>tidyverse</td>
<td>Tibble erstellen</td>
<td>Liste von Vektoren, n</td>
</tr>
<tr class="even">
<td><code>factor()</code></td>
<td>base</td>
<td>Argumente kombinieren</td>
<td></td>
</tr>
<tr class="odd">
<td><code>list()</code></td>
<td>base</td>
<td>Eine Liste anlegen</td>
<td></td>
</tr>
<tr class="even">
<td><code>is.na()</code></td>
<td>base</td>
<td>Prüft, ob ein Wert fehlend ist</td>
<td></td>
</tr>
</tbody>
</table>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="benutzeroberflächen.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="rmarkdown.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/xvariable/r_book/edit/main/040_programming.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["r_book.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
